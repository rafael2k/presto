
########## DEFINITIONS ##########
definitions:
  widgets:
    DoNotShowAgainCheckBox: &DoNotShowAgainCheckBox
      type: CheckBox
      name: do_not_show_again_checkbox
      string: S_DO_NOT_SHOW_DIALOG_AGAIN

  buttons:
    # Ok button, typically used in a button strip using *OkButton
    OkButton: &OkButton
      type: Button
      name: ok_button
      string: DI_ID_OK
      action-string: Ok
        
    # Cancel button, typically used in a button strip using *CancelButton
    CancelButton: &CancelButton
      type: Button
      name: cancel_button
      string: DI_ID_CANCEL
      action-string: Cancel

    # Back button, typically used in a wizard button strip using *CancelButton
    BackButton: &BackButton
      type: Button
      name: back_button
      string: S_WIZARD_PREV_PAGE
      action-string: Back
      
    # Back button, typically used in a wizard button strip using *CancelButton
    ForwardButton: &ForwardButton
      type: Button
      name: forward_button
      string: S_WIZARD_NEXT_PAGE
      action-string: Forward
    
    # Help button, typically used in a button strip using *HelpButton
    HelpButton: &HelpButton
      type: Button
      name: help_button
      string: DI_ID_HELP
      action-string: Show help

  button-strips:
    # this is how button strips usually look:
    GenericButtonStrip: &GenericButtonStrip
      help_anchor: index.html
      dynamic_help_anchor: false
      special-content: 
      buttons: 
      
    # a button strip that shows an 'Ok' and a 'Cancel' button. To be used like this:
    # button-strip:
    #   <<: *OkCancelButtonStrip
    OkCancelButtonStrip: &OkCancelButtonStrip
      <<: *GenericButtonStrip
      buttons:
        - *OkButton
        - *CancelButton
        
    # a button strip that shows 'Ok', 'Cancel' and 'Help' button. Typically used like this:
    # button-strip:
    #   <<: *OkCancelHelpButtonStrip
    #   help_anchor: index.html
    # 
    OkCancelHelpButtonStrip: &OkCancelHelpButtonStrip
      <<: *GenericButtonStrip
      buttons:
        - *OkButton
        - *CancelButton
        - *HelpButton
        
    # The typical button strip for wizards. Typically used like this:
    # button-strip:
    #   <<: *WizardButtonStrip
    #   help_anchor: index.html
    WizardButtonStrip: &WizardButtonStrip
      <<: *GenericButtonStrip
      buttons:
        - *BackButton
        - *ForwardButton
        - *CancelButton
        - *HelpButton


########## DIALOGS ########## 
dialogs:

########## Java Setup Dialog
  - type: Dialog
    name: Java Setup Dialog
    title: D_NEW_PREFS_JAVA
    content:                  # there is always only going to be one top-level widget, no?
      type: StackLayout
      elements:
        - type: Label
          name: label_for_Java_chooser
          string: D_PREFERENCES_JAVA_PATH
        - type: FolderChooser
          name: Java_chooser
        - type: Button
          name: Validate_Java_button
          string: D_PREFERENCES_VALIDATE_JAVA_PATH
          action-string: Validate java path
    button-strip:
      <<: *OkCancelHelpButtonStrip
      help_anchor: java.html
 
 
########## Ask Max Messages Download Dialog
  - type: AlertDialog
    name: Ask Max Messages Download Dialog
    title: D_NEWS_MANY_NEW_MESSAGES_DETECTED
    skin-image: Dialog Question                      # typically: 'Dialog Question', 'Dialog Warning', 'Dialog Info', or 'Dialog Error'
    content:
      type: StackLayout
      elements:
        - type: Label
          name: Question
          wrap: true
        - type: RadioButton
          name: Radio_limited_messages
          content:
            type: StackLayout
            orientation: horizontal
            elements:
              - type: NumberEdit
                name: NumberEdit_messages
                spinbox_type: integer
              - type: Label
                name: Label_messages
                string: D_NEWS_MESSAGES
        - type: RadioButton
          name: Radio_all_messages
          string: D_NEWS_ALL_MESSAGES
        - type: CheckBox
          name: Dont_ask_checkbox
          string: D_NEWS_DONT_ASK_NEW_MESSAGES_AGAIN
    button-strip:
      <<: *OkCancelButtonStrip


          
########## Contact Properties Dialog
  - type: Dialog
    name: Contact Properties Dialog
    title: D_PROPERTIES_DIALOG_CAPTION
    content:
      type: TabLayout
      elements:
        - type: Tab
          string: DI_CL_EDITITEM_TAB_NET
          content:
            type: GridLayout
            elements:
              - type: GridRowLayout
                elements:
                  - type: Filler
                  - type: WebPage
                    name: Picture_image
              - type: GridRowLayout
                elements: 
                  - type: Label
                    name: label_for_Name_edit
                    string: D_CONTACT_PROP_NAME
                  - type: Edit
                    name: Name_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: label_for_Email_edit
                    string: DI_IDSTR_M2_NEWACC_WIZ_EMAILADDRESS
                  - type: Edit
                    name: Email_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: label_for_Homepage_edit
                    string: DI_ID_CL_PROP_HOMEPAGE_LABEL
                  - type: Edit
                    name: Email_edit                 
        - type: Tab            
          string: DI_CL_EDITITEM_TAB_INFO
          content:
            type: StackLayout
            elements:
              - type: Label
                name: label_for_Address_edit
                string: DI_ID_CL_PROP_POSTADDR_LABEL
              - type: MultilineEdit
                name: Address_edit
              - type: GridLayout
                elements:
                  - type: GridRowLayout
                    elements: 
                      - type: Label
                        name: label_for_Phone_edit
                        string: DI_ID_CL_PROP_PHONE_LABEL
                      - type: Edit
                        name: Phone_edit
                  - type: GridRowLayout
                    elements:
                      - type: Label
                        name: label_for_Fax_edit
                        string: DI_ID_CL_PROP_FAX_LABEL
                      - type: Edit
                        name: Fax_edit
        - type: Tab
          string: DI_CL_EDITITEM_TAB_NOTES
          content:
            type: StackLayout
            elements:
              - type: Label
                name: label_for_Otheremail_edit
                string: D_CONTACT_PROP_ADD_EMAIL
              - type: Edit
                name: Otheremail_edit
              - type: Label
                name: label_for_Notes_edit
                string: DI_ID_CL_PROP_NOTES_LABEL
              - type: MultilineEdit
                name: Notes_edit
        - type: Tab
          string: DI_IDSTR_M2_HOTLISTTAB_CHAT
          content:
            type: StackLayout
            elements:
              - type: Label
                name: label_for_Nicknames_edit
                string: D_CONTACT_PROPERTIES_NICKNAMES
              - type: Edit
                name: Nicknames_edit
        - type: Tab
          string: D_CONTACT_PROPERTIES_IMAGES
          content:
            type: GridLayout
            elements:
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: label_for_PictureURL_edit
                    string: D_CONTACT_PROP_PICTURE_URL
                  - type: Edit
                    name: PictureURL_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: label_for_Icon_listbox
                    string: D_CONTACT_PROP_ICON
                  - type: TreeView
                    name: Icon_listbox
    button-strip:
      <<: *OkCancelHelpButtonStrip
      help_anchor: panels.html#contacts


########## Cookie Manager Dialog
  - type: Dialog
    name: Cookie Manager Dialog
    title: D_SERVER_MANAGER_TITLE_COOKIE
    content:
      type: StackLayout
      elements:
        - type: Search
          name: Quickfind_edit
        - type: StackLayout
          orientation: horizontal
          elements:
            - type: TreeView
              name: Server_treeview
            - type: StackLayout
              elements:
                - type: Button
                  name: Delete_button
                  string: S_DELETE
                  action-string: Delete
                - type: Button
                  name: Edit_properties_button
                  string: D_BOOKMARK_MANAGER_EDIT
                  action-string: Edit properties
    button-strip:
      <<: *OkCancelButtonStrip


########## Filetype Dialog
  - type: Dialog
    name: Filetype Dialog
    title: DI_IDM_FILE_TYPE_GROUP
    content:
      type: StackLayout
      elements:
        - type: GridLayout
          elements: 
            - type: GridRowLayout
              elements:
                - type: Label
                  name: label_for_Mimetype
                  string: DI_IDM_TYPE
                - type: Label
                  name: label_for_Fileextensions
                  string: D_FILETYPE_EXTENSIONS
            - type: GridRowLayout
              elements:
                - type: Edit
                  name: Mimetype
                - type: Edit
                  name: Fileextensions
        - type: GroupBox
          string: DI_IDM_ACTION
          content:
            type: StackLayout
            elements:
              - type: RadioButton
                name: Action_show_downloaddialog
                string: D_FILETYPE_SHOWDOWNLOADDIAL
              - type: RadioButton
                name: Action_open_Opera
                string: DI_IDM_OPERA
              - type: RadioButton
                name: Action_save
                string: DI_IDM_SAVE
                content:
                  type: CheckBox
                  name: Action_save_directly
                  string: DI_IDM_SAVE_DIRECTLY
                  content: 
                    type: FileChooser
                    name: Action_save_directly_location
              - type: RadioButton
                name: Action_open_default_application
                string: DI_IDM_REG_APP
                content:
                  type: Edit
                  name: Action_open_defaultapplication
              - type: RadioButton
                name: Action_open_other_application
                string: DI_IDM_APP
                content:
                  type: StackLayout
                  elements:
                    - type: FileChooser
                      name: Action_open_otherapplication
                    - type: CheckBox
                      name: Action_pass_url
                      string: S_PASS_WEB_ADDRESS
              - type: RadioButton
                name: Action_open_plugin
                string: DI_IDM_PLUGIN
                content:
                  type: DropDown
                  name: Plugins_dropdown
    button-strip:
      <<: *OkCancelHelpButtonStrip
      help_anchor: downloads.html
          
########## Customize Toolbar Dialog (aka Appearance dialog)
  - type: Dialog
    name: Customize Toolbar Dialog
    title: D_CUSTOMIZE_TOOLBARS_APPEARANCE
    content:
      type: TabLayout
      elements:
        - type: Tab
          string: D_PREFERENCES_SKIN           # should this be called 'string' instead of 'title'?
          content:
            type: StackLayout
            elements:
              - type: StackLayout
                orientation: horizontal
                elements:
                  - type: CheckBox
                    name: Show_installed_skins_button
                    string: D_CUSTOMIZE_TOOLBARS_SHOW_SKINS
                  - type: CheckBox
                    name: Find_more_skins_button
                    string: D_CUSTOMIZE_TOOLBARS_FIND_SKINS              
              - type: PagingLayout
                elements: 
                  - type: StackLayout
                    orientation: horizontal
                    elements: 
                      - type: TreeView
                        name: Skin_file_treeview
                      - type: Button
                        name: Delete_skinconfig
                        string: S_DELETE
                        action-string: Delete skin
                  - type: WebPage
                    name: Find_mode_skins_browserview
              - type: CheckBox
                name: Special_effects_checkbox
                string: D_ENABLE_SPECIAL_EFFECTS
              - type: StackLayout
                elements:
                  - type: Label
                    name: label_for_Skin_color_scheme_dropdown
                    string: D_PREFERENCES_COLOR_SCHEME
                  - type: DropDown
                    name: Skin_color_scheme_dropdown
                    elements:
                      - string: D_COLOR_SCHEME_NO_COLOR_S         # should DropDown items define a type? 
                        action-string: Disable skin coloring
                      - string: D_COLOR_SCHEME_SYSTEM_COLOR_S
                        action-string: Use system skin coloring
                      - string: D_COLOR_SCHEME_GOLD
                        action:
                          name: Set skin coloring
                          data_string: "#583F28"
                      - string: D_COLOR_SCHEME_SAND
                        action-string: Set skin coloring, "#9A8454"
                      - string: D_COLOR_SCHEME_JUNGLE
                        action-string: Set skin coloring, "#479B65"
                      - string: D_COLOR_SCHEME_SEA
                        action-string: Set skin coloring, "#4E7A94"
                      - string: D_COLOR_SCHEME_BLUE
                        action-string: Set skin coloring, "#283358"
                      - string: D_COLOR_SCHEME_INDIGO
                        action-string: Set skin coloring, "#606090"
                      - string: D_COLOR_SCHEME_PURPLE
                        action-string: Set skin coloring, "#43354D"
                      - string: D_COLOR_SCHEME_CRIMSON
                        action-string: Set skin coloring, "#BE324C"
                      - string: D_COLOR_SCHEME_RED
                        action-string: Set skin coloring, "#801010"
                  - type: Label
                    name: label_for_Skin_zoom_dropdown
                    string: D_CUSTOMIZE_TOOLBARS_ICON_SIZE
                  - type: DropDown
                    name: Skin_zoom_dropdown
        - type: Tab
          string: D_CUSTOMIZE_DIALOG_PANELS_TAB
          content:
            type: StackLayout
            elements:
              - type: GroupBox
                string: D_CUSTOMIZE_DIALOG_SELECT_PANELS
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox                # todo: is that how checkboxes should look?
                          string: SI_IDPREFS_SEARCH
                          states:
                            - action-string: Hide Panel, "Search"
                            - action-string: Show Panel, "Search"
                        - type: CheckBox
                          string: M_BROWSER_MENU_BAR_CHAT
                          states:
                            - action-string: Hide Panel, "Chat"
                            - action-string: Show Panel, "Chat"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_LINKS
                          states:
                            - action-string: Hide Panel, "Links"
                            - action-string: Show Panel, "Links"
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_BOOKM
                          states:
                            - action-string: Hide Panel, "Bookmarks"
                            - action-string: Show Panel, "Bookmarks"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_NOTES
                          states:
                            - action-string: Hide Panel, "Notes"
                            - action-string: Show Panel, "Notes"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_WINDOWS
                          states:
                            - action-string: Hide Panel, "Windows"
                            - action-string: Show Panel, "Windows"
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_MAIL
                          states:
                            - action-string: Hide Panel, "Mail"
                            - action-string: Show Panel, "Mail"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_TRANSFERS
                          states:
                            - action-string: Hide Panel, "Transfers"
                            - action-string: Show Panel, "Transfers"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_INFO
                          states:
                            - action-string: Hide Panel, "Info"
                            - action-string: Show Panel, "Info"
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_CONTACTS
                          states:
                            - action-string: Hide Panel, "Contacts"
                            - action-string: Show Panel, "Contacts"
                        - type: CheckBox
                          string: M_VIEW_HOTLIST_MENU_HISTORY
                          states:
                            - action-string: Hide Panel, "History"
                            - action-string: Show Panel, "History"
                        - type: CheckBox
                          string: D_WIDGETS
                          states:
                            - action-string: Hide Panel, "Widgets"
                            - action-string: Show Panel, "Widgets"
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: S_UNITE_SERVICES
                          states:
                            - action-string: Hide Panel, "Unite"
                            - action-string: Show Panel, "Unite"
              - type: GroupBox
                string: D_CUSTOMIZE_DIALOG_PANELS_POSITION
                content:
                  type: StackLayout
                  elements:
                    - type: StackLayout
                      orientation: horizontal
                      elements:                          
                        - type: Label
                          name: label_for_Panel_placelement_dropdown
                          string: D_APPEARANCE_PANEL_PLACEMENT
                        - type: DropDown
                          name: Panel_placelement_dropdown
                          elements:
                            - string: MI_IDM_MENU_PERSONALBAR_LEFT
                              action-string: Set alignment, "hotlist", 1
                            - string: MI_IDM_MENU_PERSONALBAR_RIGHT
                              action-string: Set alignment, "hotlist", 3
                            - string: MI_IDM_HL_FLOATING
                              action-string: Set alignment, "hotlist", 5
                            - string: MI_IDM_MENU_PERSONALBAR_OFF
                              action-string: Set alignment, "hotlist", 0
                    - type: CheckBox
                      string: D_CUSTOMIZE_DIALOG_SHOW_PANEL_TOGGLE
                      states:
                        - action-string: Hide panel toggle
                        - action-string: Show panel toggle
              - type: GroupBox
                string: D_CUSTOMIZE_DIALOG_BOOKMARK_AS_PANEL
                content:
                  type: StackLayout
                  orientation: horizontal
                  elements:
                    - type: Button
                      string: D_CUSTOMIZE_DIALOG_ADD_WEB_PANEL
                      action-string: Add panel
                    - type: Button
                      string: D_CUSTOMIZE_DIALOG_GET_WEB_PANEL
                      action:
                        name: Go to page
                        data_string: http://redir.opera.com/community/customize/panel/
                  
        - type: Tab
          string: D_CUSTOMIZE_DIALOG_TOOLBARS_TAB
          content:
            type: StackLayout
            elements:
              - type: GroupBox
                string: D_CUSTOMIZE_DIALOG_SELECT_TOOLBARS
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: MI_IDM_MENU_BUTTONS_SIMPLE_PARENT
                          states:
                            - action-string: Set alignment, "browser toolbar", 0
                            - action-string: Set alignment, "browser toolbar", 6
                        - type: CheckBox
                          string: MI_IDM_MENU_STATUS_BAR_TOP_PARENT
                          states:
                            - action-string: Set alignment, "status toolbar", 0
                            - action-string: Set alignment, "status toolbar", 6
                        - type: CheckBox
                          string: M_BROWSER_VIEW_MENU_NAVIGATION_BAR
                          states:
                            - action-string: Set alignment, "site navigation toolbar", 0
                            - action-string: Set alignment, "site navigation toolbar", 6
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: MI_IDM_MENU_PERSONALBAR_TOP_PARENT
                          states:
                            - action-string: Set alignment, "personalbar", 0
                            - action-string: Set alignment, "personalbar", 6
                        - type: CheckBox
                          string: MI_IDM_MENU_ADDRESS_BAR_TOP_PARENT
                          states:
                            - action-string: Set alignment, "document toolbar", 0
                            - action-string: Set alignment, "document toolbar", 6
                        - type: CheckBox
                          string: D_CUSTOMIZE_DIALOG_START_BAR
                          states:
                            - action-string: Set alignment, "start toolbar", 0
                            - action-string: Set alignment, "start toolbar", 6
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          string: MI_IDM_MENU_PAGEBAR_TOP_PARENT
                          states:
                            - action-string: Set alignment, "pagebar", 0
                            - action-string: Set alignment, "pagebar", 6
                        - type: CheckBox
                          string: D_CUSTOMIZE_TOOLBAR_VIEW_BAR
                          states:
                            - action-string: Set alignment, "document view toolbar", 0
                            - action-string: Set alignment, "document view toolbar", 6
              - type: GroupBox
                string: D_CUSTOMIZE_TOOLBAR_CLICK_ANY_TO_EDIT_PROPERTIES
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Toolbar_placement_dropdown
                          string: D_CUSTOMIZE_TOOLBAR_PLACEMENT
                        - type: DropDown
                          name: Toolbar_placement_dropdown
                          elements:
                            - string: MI_IDM_MENU_PERSONALBAR_TOP
                              action-string: Set alignment, "target toolbar", 2
                            - string: MI_IDM_MENU_PERSONALBAR_BOTTOM
                              action-string: Set alignment, "target toolbar", 4
                            - string: MI_IDM_MENU_PERSONALBAR_LEFT
                              action-string: Set alignment, "target toolbar", 1
                            - string: MI_IDM_MENU_PERSONALBAR_RIGHT
                              action-string: Set alignment, "target toolbar", 3
                            - string: MI_IDM_MENU_PERSONALBAR_OFF
                              action-string: Set alignment, "target toolbar", 0
                        - type: CheckBox
                          string: D_CUSTOMIZE_TOOLBAR_SHOW_ONLY_WHEN_NEEDED
                          states:
                            - action-string: Set auto alignment, "target toolbar", 0
                            - action-string: Set auto alignment, "target toolbar", 1
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Toolbar_style_dropdown
                          string: M_TOOLBAR_STYLE_MENU_STYLE
                        - type: DropDown
                          name: Toolbar_style_dropdown
                          elements:
                            - string: SI_IDSTR_TOOLBAR_IMAGES_ONLY
                              action-string: Set button style, "target toolbar", 0
                            - string: SI_IDSTR_TOOLBAR_TEXT_ONLY
                              action-string: Set button style, "target toolbar", 1
                            - string: SI_IDSTR_TOOLBAR_TEXT_BELOW
                              action-string: Set button style, "target toolbar", 2
                            - string: SI_IDSTR_TOOLBAR_TEXT_RIGHT
                              action-string: Set button style, "target toolbar", 3
                        - type: CheckBox
                          name: Large_images_checkbox
                          string: M_TOOLBAR_STYLEMENU_LARGE_IMAGES
                          states:
                            - action-string: Disable large images, "target toolbar"
                            - action-string: Enable large images, "target toolbar"
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Toolbar_wrapping_dropdown
                          string: D_CUSTOMIZE_TOOLBAR_WRAPPING
                        - type: DropDown
                          name: Toolbar_wrapping_dropdown
                          elements:
                            - string: D_CUSTOMIZE_TOOLBAR_NO_WRAPPING
                              action-string: Set wrapping, "target toolbar", 0
                            - string: D_CUSTOMIZE_TOOLBAR_WRAP_MULTIPLE_LINES
                              action-string: Set wrapping, "target toolbar", 1
                            - string: D_CUSTOMIZE_TOOLBAR_SHOW_EXTENDER_MENU
                              action-string: Set wrapping, "target toolbar", 2
              - type: Separator
              - type: StackLayout        # moved the progress bar option down here, because it's completely nonsensical and overcomplicating where it is now, imho
                orientation: horizontal
                elements:
                  - type: Label
                    name: label_for_Progressbar_dropdown
                    string: D_PREFERENCES_TOOLBARS_AND_MENUS_PROGRESSBAR
                  - type: DropDown
                    name: Progressbar_dropdown
                    elements:                              # maybe that should be called 'elements' but that would be the the only widgets having elements then??
                      - string: DI_IDM_SHOW_PROGRESS_INSIDE
                        action-string: View progress bar, 0
                      - string: S_POPUP_PROGRESS_AT_BOTTOM
                        action-string: View progress bar, 1
                      - string: D_PROGRESS_BAR_TYPE_SIMPLE
                        action-string: View progress bar, 2
                      - string: MI_IDM_MENU_PERSONALBAR_OFF
                        action-string: View progress bar, 3
              - type: CheckBox
                name: Show_hidden_checkbox
                string: D_CUSTOMIZE_TOOLBAR_SHOW_HIDDEN_WHILE_CUSTOMIZING
            
        - type: Tab
          string: D_CUSTOMIZE_DIALOG_BUTTONS_TAB
          content:
            type: StackLayout
            orientation: horizontal
            elements:
              - type: TreeView
                name: Buttons_treeview
              - type: StackLayout
                elements:
                  - type: PagingLayout      # only one of the elements in a paging layout is visible at a time
                    elements:
                      - type: Toolbar
                        name: Customize Toolbar Browser
                      - type: Toolbar
                        name: Customize Toolbar Browser View
                      - type: Toolbar
                        name: Customize Toolbar Mail
                      - type: Toolbar
                        name: Customize Toolbar Mail View
                      - type: Toolbar
                        name: Customize Toolbar Chat
                      - type: Toolbar
                        name: Customize Toolbar Panels
                      - type: Toolbar
                        name: Customize Toolbar Search
                      - type: Toolbar
                        name: Customize Toolbar Status
                      - type: Toolbar
                        name: Customize Toolbar Preferences
                      - type: Toolbar
                        name: Customize Toolbar Spacers
                      - type: Toolbar
                        name: Customize Toolbar Defaults
                      - type: Toolbar
                        name:  Customize Toolbar Custom
                  - type: Button
                    name: Reset button
                    action-string: Restore to defaults, "target toolbar"
    button-strip:
      buttons:
        - <<: *OkButton
          action-string: Ok Customize Settings
        - <<: *CancelButton
          action-string: Cancel Customize Settings


########## New Preferences Dialog
  - type: Dialog
    name: New Preferences Dialog
    title: DI_PREFERENCES
    content:
      type: TabLayout
      elements:
        - type: Tab
          string: D_NEW_PREFERENCES_GENERAL
          content:
            type: StackLayout
            elements:
              - type: GroupBox
                string: D_NEW_PREFERENCES_CONTINUE_OR_SESSION
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Startup_mode_dropdown
                          string: D_NEW_PREFERENCES_STARTUP
                        - type: DropDown
                          name: Startup_mode_dropdown
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Startpage_edit
                          string: D_NEW_PREFERENCES_HOME_PAGE
                        - type: Edit
                          name: Startpage_edit
                        - type: Button
                          name: Startpage_use_current_button
                          string: D_PREFERENCES_STARTPAGE_USE_CURRENT
                          action-string: Choose current page
              - type: GroupBox
                string: D_NEW_PREFERENCES_PAGES_AND_POPUPS
                content:
                  type: StackLayout
                  orientation: horizontal
                  elements:
                    - type: Label
                      name: label_for_Popups_dropdown
                      string: D_NEW_PREFERENCES_POP_UPS
                    - type: DropDown
                      name: Popups_dropdown
              - type: GroupBox
                string: D_NEW_PREFERENCES_SELECT_PREFERRED_LANGUAGE
                content:
                  type: StackLayout
                  orientation: horizontal
                  elements:
                    - type: Label
                      name: label_for_Language_dropdown
                      string: D_NEW_PREFERENCES_LANGUAGE
                    - type: Label
                      name: Language_mac_label
                      platforms: [mac]              # todo: do we want to specify that in YAML
                    - type: DropDown
                      name: Language_dropdown
                      platforms: [windows, unix]
                    - type: Button
                      name: Language_button
                      string: D_NEW_PREFERENCES_DETAILS
                      action-string: Show language preferences
        - type: Tab
          string: D_NEW_PREFERENCES_WAND
          content:
            type: StackLayout
            elements:
              - type: GroupBox
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          string: D_NEW_PREFERENCES_USE_WAND
                        - type: Icon
                          name: Wand_image
                          skin-image: Wand
                    - type: GridRowLayout
                      elements:
                        - type: CheckBox
                          name: Enable_wand_checkbox
                          string: D_NEW_PREFERENCES_WAND_REMEMBER
                        - type: Button
                          name: More_language_button
                          string: D_NEW_PREFERENCES_PASSWORDS
                          action-string: Manage wand
              - type: GroupBox
                string: D_NEW_PREFERENCES_AUTO_COMPLETE
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Firstname_edit
                          string: DI_IDM_FIRSTNAME_LABEL
                        - type: Edit
                          name: Firstname_edit
                        - type: Label
                          name: label_for_Lastname_edit
                          string: DI_IDM_SURNAME_LABEL
                        - type: Edit
                          name: Lastname_edit
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Email_edit
                          string: DI_IDM_EMAIL_LABEL
                        - type: Edit
                          name: Email_edit
                        - type: Label
                          name: label_for_Homepage_edit
                          string: D_NEW_PREFERENCES_HOMEPAGE
                        - type: Edit
                          name: Homepage_edit
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Telephone_edit
                          string: DI_IDM_TELEPHONE_LABEL
                        - type: Edit
                          name: Telephone_edit
                        - type: Label
                          name: label_for_Mobile_edit
                          string: D_NEW_PREFERENCES_MOBILE
                        - type: Edit
                          name: Mobile_edit
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Address_edit
                          string: DI_IDM_ADDRESS_LABEL
                        - type: Edit
                          name: Address_edit
                          colspan: 3
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_City_edit
                          string: DI_IDM_CITY_LABEL
                        - type: Edit
                          name: City_edit
                        - type: Label
                          name: label_for_Region_edit
                          string: DI_IDM_STATE_LABEL
                        - type: Edit
                          name: Region_edit
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Postal_edit
                          string: DI_IDM_ZIP_LABEL
                        - type: Edit
                          name: Postal_edit
                        - type: Label
                          name: label_for_Country_edit
                          string: DI_IDM_COUNTRY_LABEL
                        - type: Edit
                          name: Country_edit
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: Special_label
                          string: D_NEW_PREFERENCES_OTHER
                        - type: Edit
                          name: Special1_edit
                        - type: Edit
                          name: Special2_edit
                        - type: Edit
                          name: Special3_edit
                          
        - type: Tab
          string: DI_IDM_PREFS_SEARCH_GROUP
          content:
            type: GroupBox
            string: D_PREFS_MANAGE_SEARCH_ENGINES
            content:
              type: StackLayout
              elements:
                - type: StackLayout
                  orientation: horizontal
                  elements:
                    - type: TreeView
                      name: Web_search_treeview
                    - type: StackLayout
                      elements:
                        - type: Button
                          name: Search_new
                          string: DI_ID_BTN_ADD_LANG
                        - type: Button
                          name: Search_edit
                          string: D_PREFERENCES_MOUSE_AND_KEYBOARD_EDIT
                        - type: Button
                          name: Search_delete
                          string: D_PREFERENCES_TOOLBARS_AND_MENUS_DELETE
                - type: Label
                  name: Web_search_details
                  string: SI_IDSTR_PREFS_SEARCH_TIP
                - type: Label
                  name: More_Web_search_details
                  string: D_PREFERENCES_SEARCH_ENTER_G_OPERA
        - type: Tab
          string: D_NEW_PREFERENCES_WEB_PAGES
          content:
            type: StackLayout
            elements:
              - type: StackLayout
                orientation: horizontal
                elements:
                  - type: Label
                    name: label_for_turbo_dropdown
                    string: D_OPERA_TURBO_TITLE
                  - type: DropDown
                    name: turbo_dropdown
                  - type: Button
                    string: D_NEW_PREFERENCES_DETAILS
                    action-string: Open Web Turbo Dialog
              - type: GroupBox
                string: D_NEW_PREFERENCES_ZOOM_SETTINGS
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Page_image_dropdown
                          string: D_NEW_PREFERENCES_IMAGES
                        - type: DropDown
                          name: Page_image_dropdown
                          colspan: 2
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Default_zoom_dropdown
                          string: D_NEW_PREFERENCES_PAGE_ZOOM
                        - type: DropDown
                          name: Default_zoom_dropdown
                        - type: CheckBox
                          name: Fit_to_width_checkbox
                          string: D_NEW_PREFERENCES_FIT_TO_WINDOW
              - type: GroupBox
                string: D_NEW_PREFERENCES_CHOOSE_FONTS
                content:
                  type: GridLayout
                  elements:
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Normal_font_button
                          string: D_NEW_PREFERENCES_NORMAL_FONT
                        - type: Button
                          name: Normal_font_button
                          action-string: Choose font, "Normal_font_button"
                          colspan: 2
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Monospace_button
                          string: D_NEW_PREFERENCES_MONOSPACE_FONT
                        - type: Button
                          name: Monospace_button
                          action-string: Choose font, "Monospace_button"
                          colspan: 2
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Background_color_button
                          string: D_NEW_PREFERENCES_BACKGROUND_COLOR
                        - type: Button
                          name: Background_color_button
                          action-string: Choose link color, "Background_color_button"
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Color_link_button
                          string: D_NEW_PREFERENCES_NORMAL_LINK_COLOR
                        - type: Button
                          name: Color_link_button
                          action-string: Choose link color, "Color_link_button"
                        - type: CheckBox
                          name: Underline_link_checkbox
                          string: D_NEW_PREFERENCES_UNDERLINE_NORMAL_LINKS
                    - type: GridRowLayout
                      elements:
                        - type: Label
                          name: label_for_Color_visited_button
                          string: D_NEW_PREFERENCES_VISITED_LINK
                        - type: Button
                          name: Color_visited_button
                          action-string: Choose link color, "Color_visited_button"
                        - type: CheckBox
                          name: Underline_visited_checkbox
                          string: D_NEW_PREFERENCES_UNDERLINE_VISITED_LINK
        - type: Tab
          string: D_NEW_PREFERENCES_ADVANCED
          content:
            type: StackLayout
            orientation: horizontal
            elements:
              - type: TreeView
                name: Advanced_treeview
              - type: PagingLayout
                elements:
                  - type: StackLayout
                    name: Tabs_group
                    elements:
                      - type: Label
                        name: label_for_Cycle_pages_dropdown
                      - type: DropDown
                        name: Cycle_pages_dropdown
                      - type: CheckBox
                        name: Thumbnails_in_tab_cycle
                        string: S_USE_THUMBNAILS_IN_TAB_CYCLE
                      - type: Separator
                      - type: Label
                        name: label_for_Close_tab_dropdown
                        string: D_PREFERENCES_CLOSE_TAB_BEHAVIOR
                      - type: DropDown
                        name: Close_tab_dropdown
                      - type: Separator
                      - type: CheckBox
                        name: Reuse_page_checkbox
                        string: DI_IDM_REUSE_WINDOW_TOGGLE
                      - type: CheckBox
                        name: Open_next_to_current_checkbox
                        string: S_OPEN_PAGE_NEXT_TO_ACTIVE
                      - type: CheckBox
                        name: Thumbnails_on_tab_hover
                        string: S_USE_THUMBNAILS_ON_TAB_HOVER
                      - type: CheckBox
                        name: Thumbnails_inside_tabs
                        string: D_CUSTOMIZE_ENABLE_TAB_THUMBNAILS
                      - type: Button
                        name: Tab_classic_options_button
                        string: S_TAB_CLASSIC_OPTIONS
                        action-string: Show classic tab options
                  - type: StackLayout
                    name: Browser_group
                    elements:
                      - type: Label
                        name: label_for_Loading_dropdown
                        string: S_REDRAW_LOADING_LABEL
                      - type: DropDown
                        name: Loading_dropdown
                      - type: Label
                        name: label_for_Page_icon_dropdown
                        string: D_PREFERENCES_PAGE_ICONS
                      - type: DropDown
                        name: Page_icon_dropdown
                      - type: CheckBox
                        name: Smooth_scrolling_checkbox
                        string: D_SMOOTH_SCROLLING
                      - type: CheckBox
                        name: Show_scrollbars_checkbox
                        string: DI_IDM_SCROLLBARS_TOGGLE
                      - type: CheckBox
                        name: Show_scrollmarker_checkbox
                        string: D_SHOW_SCROLL_MARKER
                      - type: CheckBox
                        name: Show_window_size_checkbox
                        string: DI_IDM_SHOW_WINDOW_SIZE_TOGGLE
                      - type: CheckBox
                        name: Tooltips_checkbox
                        string: D_PREFERENCES_MOUSE_AND_KEYBOARD_ENABLE_TOOLTIPS
                      - type: CheckBox
                        name: Window_menu_checkbox
                        string: D_SHOW_WINDOW_MENU
                      - type: CheckBox
                        name: Confirm_exit_checkbox
                        string: DI_ID_GPREFS_ASKSAVEWINDOWS
                      - type: CheckBox
                        name: Enable_spellchecker
                        string: M_INTERNAL_SPELLCHECK_ENABLE
                  - type: StackLayout
                    name: Sounds_group
                    elements:
                      - type: CheckBox
                        name: Program_sounds_checkbox
                        string: DI_IDM_SOUNDS_TOGGLE
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: Program_sounds_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                name: Choose_sound_button
                                string: DI_IDM_CHANGE_SND,
                                action-string: Choose sound
                              - type: Button
                                name: Clear_sound_button
                                string: DI_IDM_CLEAR_SND
                                action-string: Delete
                              - type: Button
                                name: Test_sound_button
                                string: DI_IDM_TEST_SOUND
                                action-string: Test sound
                      - type: CheckBox
                        name: Chat_notification_checkbox
                        string: D_CHAT_NOTIFIER
                      - type: CheckBox
                        name: Message_notification_checkbox
                        string: D_NEW_PREFERENCES_NEW_MESSAGE_NOTIFICATION
                      - type: CheckBox
                        name: Popup_notification_checkbox
                        string: D_NEW_PREFERENCES_BLOCKED_POPUPS_NOTIFICATION
                      - type: CheckBox
                        name: Transfer_notification_checkbox
                        string: D_NEW_PREFERENCES_FINISHED_TRANSFER_NOTIFICATION
                      - type: CheckBox
                        name: Widget_notification_checkbox
                        string: D_SERVICE_NOTIFIER
                  - type: StackLayout
                    name: Content_group
                    elements:
                      - type: CheckBox
                        name: Gif_animation_checkbox
                        string: DI_IDM_SHOW_ANIM
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: CheckBox
                            name: Javascript_checkbox
                            string: MI_IDM_CONTROL_MENU_ENABLE_JAVASCRIPT
                          - type: Button
                            string: S_JAVASCRIPT_OPTIONS
                            action-string: Manage script options
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: CheckBox
                            name: Plugins_checkbox
                            string: DI_IDM_PLUGINS_TOGGLE
                          - type: Button
                            name: Configure_plugins_button
                            string: D_PLUGIN_OPTIONS
                            action-string: Manage plugins
                      - type: StackLayout
                        orientation: horizontal
                        if_defined: FEATURE_JAVA_NATIVE            # TODO: how do we want to handle feature definitions??
                        elements:
                          - type: CheckBox
                            name: Java_checkbox
                            string: MI_IDM_CONTROL_MENU_ENABLE_JAVA
                          - type: Button
                            name: Configure_java_button
                            string: D_JAVA_OPTIONS
                            action-string: Manage java
                      - type: Button
                        name: Configure_modes_button
                        string: D_NEW_PREFERENCES_CONFIGURE
                        action-string: Manage modes, 0
                      - type: Separator
                      - type: Label
                        string: D_CONTENT_SITE_SETTINGS_LABEL
                      - type: Button
                        name: Edit_site_prefs_button
                        string: D_MANAGE_SITE_PREFS
                        action-string: Manage sites
                      - type: Button
                        name: Content_block_button
                        string: D_PREFS_BLOCKED_CONTENT
                        action-string: Content block details, 1
                  - type: StackLayout
                    name: Fonts_group
                    elements:
                      - type: Label
                        string: D_NEW_PREFERENCES_DETAILED_FONT
                      - type: StackLayout
                        elements:
                          - type: TreeView
                            name: Fonts_treeview
                          - type: Button
                            name: Choose_font_button
                            string: DI_IDM_EDITFONT
                            action-string: Choose font
                      - type: GridLayout
                        elements:
                          - type: GridRowLayout
                            elements:
                              - type: Label
                                name: label_for_Minimum_font_size_edit
                                string: DI_IDM_FONT_MINSIZE_LABEL
                              - type: Edit
                                name: Minimum_font_size_edit
                          - type: GridRowLayout
                            elements:
                              - type: Label
                                name: International_fonts_label
                                string: DI_IDLABEL_INTERNATIONAL_FONTS
                              - type: Button
                                name: International_fonts_button
                                string: DI_IDM_INTERNATIONAL_FONTS
                                action-string: Show international fonts
                  - type: StackLayout                 # should've taken a grid layout, but didn't want to change half way though :P
                    name: Downloads_group
                    elements:
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: QuickFind
                            name: Filetypes_quickfind
                          - type: CheckBox
                            name: Show_all_file_types_checkbox
                            string: D_PREFERENCES_FILETYPES_HIDE_FILETYPES
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: File_types_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                name: File_types_new_button
                                string: DI_ID_BTN_ADD_LANG
                                action-string: New file type
                              - type: Button
                                name: File_types_edit_button
                                string: DI_IDM_EDIT_VIEWER_TYPE
                                action-string: Edit file type
                              - type: Button
                                name: File_types_delete_button
                                string: DI_IDM_DELETE
                                action-string: Delete
                      - type: StackLayout
                        if_feature: ExternalDownloadManager
                        orientation: horizontal
                        elements:
                          - type: Label
                            name: label_for_Download_Manager
                            string: D_BITTORRENT_DOWNLOAD_WITH
                          - type: DropDown
                            name: Download_Manager
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: Label
                            name: label_for_Download_directory_chooser
                            string: DI_IDM_DOWN_DIR_BOX
                          - type: Button 
                            name: Saved_files_button
                            string: S_FILE_HANDLER_BUTTON
                            action-string: Show file handlers
                            platforms: [unix]
                  - type: StackLayout
                    name: Programs_group
                    elements:
                      - type: Label
                        name: Protocol_label
                        string: D_NEW_PREFERENCES_HELPER_APPS
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: Protocol_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                name: Add_trusted_application
                                string: DI_ID_BTN_ADD_LANG
                                action-string: Add trusted application
                              - type: Button
                                name: Manage_trusted_application
                                string: DI_IDM_EDIT_VIEWER_TYPE
                                action-string: Manage trusted application
                              - type: Button
                                name: Delete_trusted_application
                                string: S_DELETE
                                action-string: Delete
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: CheckBox
                            name: Default_check_on_startup_checkbox
                            string: DI_IDM_CHK_DFLTBROWSER_STARTUP
                          - type: Button
                            name: Default_check_on_startup_button
                            string: D_NEW_PREFERENCES_DETAILS
                            action-string: Show default application
                      - type: Separator
                      - type: Label
                        name: Source_label
                        string: D_VIEW_SOURCE_APPLICATION
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: Label
                            name: Source_program
                          - type: Button
                            name: Manage_source_application
                            string: DI_IDM_EDIT_VIEWER_TYPE
                            action-string: Execute Transferitem
                  - type: StackLayout
                    name: History_group
                    elements:
                      - type: GroupBox
                        string: D_PREFS_HISTORY_DETAILED_LABEL
                        content: 
                          type: GridLayout
                          elements:
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  name: label_for_Visited_history_dropdown
                                  string: D_PREFS_ADDRESSES_LABEL
                                - type: DropDown
                                  name: Visited_history_dropdown
                                - type: Button
                                  name: Visited_history_button
                                  string: DI_IDBUTTON_CLR_DIRHIS
                                  action:                         # an alternative writing to 'Clear visited history & Clear typed in history'
                                    name: Clear visited history
                                    operator: and
                                    action-string: Clear typed in history
                            - type: GridRowLayout
                              elements:
                                - type: Filler
                                - type: CheckBox
                                  name: Enable_vps_checkbox
                                  string: D_PREFERENCES_ENABLE_VPS
                                  colspan: 2
                      - type: GroupBox
                        content:
                          type: GridLayout
                          elements:
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  wrap: true
                                  string: D_PREFS_CACHE_DETAILED_LABEL
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  name: label_for_Memory_cache_dropdown
                                  string: D_PREFERENCES_HIST_CACHE_MEMORY_CACHE
                                - type: DropDown
                                  name: Memory_cache_dropdown
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  name: label_for_Disk_cache_dropdown
                                - type: DropDown
                                  name: Disk_cache_dropdown
                                - type: Button
                                  name: Empty_cache_now_button
                                  string: DI_IDM_EMPTY_DISK_CACHE_BUTTON
                                  action-string: Clear disk cache
                            - type: GridRowLayout
                              elements:
                                - type: Filler
                                - type: CheckBox
                                  name: Empty_cache_on_exit_checkbox
                                  string: DI_IDM_EMPTY_DISK_CACHE_TOGGLE
                                  colspan: 2
                      - type: GroupBox
                        string: D_CHECK_UPDATE_ON_SERVER
                        content: 
                          type: GridLayout
                          elements:
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  name: label_for_Document_check_dropdown
                                  string: D_PREFERENCES_HIST_CACHE_CHECK_DOC
                                - type: DropDown
                                  name: Document_check_dropdown
                            - type: GridRowLayout
                              elements:
                                - type: Label
                                  name: label_for_Image_check_dropdown
                                  string: D_PREFERENCES_HIST_CACHE_CHECK_IMAGES
                                - type: DropDown
                                  name: Image_check_dropdown
                  - type: StackLayout
                    name: Cookies_group
                    elements:
                      - type: Label
                        wrap: true
                        name: Cookie_info_label
                        string: D_NEW_PREFERENCES_COOKIES_EXPLAINED
                      - type: RadioButton
                        name: Accept_cookies_radio
                        string: D_ACCEPT_COOKIES
                      - type: RadioButton
                        name: No_third_party_radio
                        string: D_ACCEPT_COOKIES_EXCEPT_THIRD_PARTY
                      - type: RadioButton
                        name: No_cookies_radio
                        string: D_NEVER_ACCEPT_COOKIES
                      - type: CheckBox
                        name: Delete_cookies_on_exit_checkbox
                        string: DI_IDM_COOKIES_SESSION_ONLY
                      - type: CheckBox
                        name: Display_cookies_checkbox
                        string: D_ASK_BEFORE_ACCEPTING_COOKIES
                      - type: Separator
                      - type: Label
                        string: D_COOKIE_SITE_SETTINGS_LABEL
                      - type: Button
                        name: Edit_server_filters_button
                        string: DI_ID_ADVP_CSF_ACTIVATE
                        action-string: Manage cookies
                  - type: StackLayout
                    name: Security_group
                    elements: 
                      - type: Button
                        name: Set_password_button
                        string: D_NEW_PREFERENCES_SET_MASTER
                        action-string: Change masterpassword
                      - type: Label
                        name: label_for_Ask_for_password_dropdown
                        string: DI_IDM_SEC_DLG_ASK_PASSWORD_LABEL
                      - type: DropDown
                        name: Ask_for_password_dropdown
                      - type: CheckBox
                        name: Master_password_checkbox
                        string: DI_IDM_MAIL_MASTER_PASSWORD_TOGGLE
                      - type: CheckBox
                        name: Trust_info_checkbox
                        string: D_NEW_SECURITY_INFORMATION_ANTIPHISH_ON_OFF_TICKBOX_TEXT
                      - type: Button
                        name: Manage_certificates_button
                        string: D_SECURITY_MANAGE_CERTIFICATES
                        action-string: Manage certificates
                      - type: Button
                        name: Configure_security_button
                        string: D_SECURITY_SECURITYPROTOCOL
                        action-string: Show security protocols
                      - type: Button
                        name: Manage_repositories
                        string: D_TRUSTED_SITES_ELLIPSIS
                        action-string: Manage whitelist
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: Label
                            name: auto_update_level_label
                            string: D_OPERA_UPDATE_LEVEL
                          - type: DropDown
                            name: auto_update_level_dropdown
                  - type: StackLayout
                    name: Network_group
                    elements:
                      - type: Label
                        wrap: true
                        string: D_NEW_PREFERENCES_CONFIGURE_PROXIES
                      - type: Button
                        name: Proxy_servers_button
                        string: DI_IDLABEL_PROXY
                        action-string: Show proxy servers
                      - type: Label
                        wrap: true
                        string: D_NAME_COMPLETION_DETAILED_LABEL
                      - type: Button
                        name: Name_completion_button
                        string: DI_IDLABEL_SERVER
                        action-string: Show name completion
                      - type: CheckBox
                        name: International_address_checkbox
                        string: DI_IDM_UTF8_URLS
                      - type: CheckBox
                        name: Enable_referrer_logging_checkbox
                        string: D_PREFS_ENABLE_REFERRER
                      - type: CheckBox
                        name: Enable_redirection_checkbox
                        string: DI_IDM_AUTO_LOAD_TOGGLE
                      - type: CheckBox
                        name: Enable_geolocation_checkbox
                        string: D_GEOLOCATION_ENABLE
                        if_defined: FEATURE_DOM_GEOLOCATION
                      - type: GridLayout
                        elements:
                          - type: GridRowLayout
                            elements:
                              - type: Label
                                name: label_for_Max_connections_to_server_dropdown
                                string: DI_IDM_MAX_CONNECTIONS_SERVER_LABE
                              - type: DropDown
                                name: Max_connections_to_server_dropdown
                          - type: GridRowLayout
                            elements:
                              - type: Label
                                name: label_for_Max_connections_total_dropdown
                                string: DI_IDM_MAX_CONNECTIONS_TOTAL_LABEL
                              - type: DropDown
                                name: Max_connections_total_dropdown
                  - type: StackLayout
                    name: LocalStorage_group
                    elements:
                      - type: Label
                        name: Storage_label
                        string: D_STORAGE_TREE_LABEL
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: Storage_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                name: Delete_entry
                                string: S_DELETE
                                action-string: Delete
                              - type: Button
                                name: Delete_all_storage
                                string: M_CLEAR_ALL
                                action-string: Delete local storage
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: Label
                            string: D_STORAGE_STRATEGY_LABEL
                          - type: DropDown
                            name: Application_cache_dropdown
                  - type: StackLayout
                    name: Toolbars_group
                    elements:
                      - type: Label
                        string: D_NEW_PREFERENCES_SELECT_SETUP
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: Toolbar_file_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_RENAME
                                action-string: Rename toolbar setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DUPLICATE
                                action-string: Duplicate toolbar setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DELETE
                                action-string: Delete toolbar setup
                      - type: StackLayout
                        orientation: horizontal
                        elements:
                          - type: TreeView
                            name: Menu_file_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_RENAME
                                action-string: Rename menu setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DUPLICATE
                                action-string: Duplicate menu setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DELETE
                                action-string: Delete menu setup
                      - type: CheckBox
                        name: Hotclick_checkbox
                        string: DI_IDM_ENABLE_HOTCLICK
                  - type: GridLayout
                    name: Keyboard_group
                    elements:
                      - type: GridRowLayout
                        elements:
                          - type: CheckBox
                            name: Mouse_gestures_checkbox
                            string: DI_IDM_ENABLE_GESTURES
                            content: 
                              type: CheckBox
                              name: Left_handed_checkbox
                              string: DI_IDM_REVERSE_FLIPPING
                      - type: GridRowLayout
                        elements:
                          - type: TreeView
                            name: Mouse_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                string: D_PREFERENCES_MOUSE_AND_KEYBOARD_EDIT
                                action-string: Manage mouse
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DUPLICATE
                                action-string: Duplicate mouse setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DELETE
                                action-string: Delete mouse setup
                      - type: GridRowLayout
                        elements:
                          - type: Button
                            string: D_MIDDLE_CLICK_OPTIONS
                            action-string: Manage middle click options
                          - type: Button
                            string: D_PREFERENCES_TOOLBARS_AND_MENUS_RENAME
                            action-string: Rename mouse setup
                      - type: GridRowLayout
                        elements:
                          - type: TreeView
                            name: Keyboard_treeview
                          - type: StackLayout
                            elements:
                              - type: Button
                                string: D_PREFERENCES_MOUSE_AND_KEYBOARD_EDIT
                                action-string: Manage keyboard
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DUPLICATE
                                action-string: Duplicate keyboard setup
                              - type: Button
                                string: D_PREFERENCES_TOOLBARS_AND_MENUS_DELETE
                                action-string: Delete keyboard setup
                      - type: GridRowLayout
                        elements:
                          - type: CheckBox
                            name: Extended_shortcuts_checkbox
                            string: D_ENABLE_EXTENDED_KEYBOARD_SHORTCUTS
                          - type: Button
                            string: D_PREFERENCES_TOOLBARS_AND_MENUS_RENAME
                            action-string: Rename keyboard setup
    button-strip:
      <<: *OkCancelHelpButtonStrip
      dynamic_help_anchor: true

########## New Account Wizard  
  - type: Dialog
    name: New Account Wizard
    title: DI_IDSTR_M2_NEWACC_WIZ_DLG_TITLE
    pages:
      - type: StackLayout
        name: Account_type_page
        elements:
          - type: Label
            name: Account_label
            string: D_NEWACC_WIZ_KIND_OF_ACCOUNT
          - type: ListBox
            name: Account_type_listbox
      - type: StackLayout
        name: Personal_info_page
        elements:
          - type: Label
            name: label_for_Name_edit
            string: DI_IDSTR_M2_NEWACC_WIZ_REALNAME
          - type: Edit
            name: Name_edit
          - type: Label
            name: label_for_Mail_edit
            string: DI_IDSTR_M2_NEWACC_WIZ_EMAILADDRESS
          - type: Edit
            name: Mail_edit
          - type: Label
            name: label_for_Organization_edit
            string: DI_IDSTR_M2_NEWACC_WIZ_ORGANIZATION
          - type: Edit
            name: Organization_edit
      - type: StackLayout
        name: User_info_page
        elements:
          - type: Label
            name: label_for_Username_edit
          - type: Edit
            name: Username_edit
          - type: Label
            name: label_for_Password_edit
            string: DI_IDSTR_M2_NEWACC_WIZ_PASSWORD
          - type: Edit
            name: Password_edit
          - type: Label
            name: label_for_nick_warning        # probably better implemented using a paging layout
            string: D_ILLEGAL_IRC_NICK
          - type: Label
            name: Email_account_type_label
            string: D_NEWACC_WIZ_MAIL_TYPE
          - type: StackLayout
            orientation: horizontal
            elements:
              - type: RadioButton
                name: POP_account_radio
                string: S_NEW_ACCOUNT_POP
              - type: RadioButton
                name: IMAP_account_radio
                string: S_NEW_ACCOUNT_IMAP
      - type: StackLayout
        name: Server_page
        elements:
          - type: GroupBox
            name: Incoming_group
            content:
              type: StackLayout
              elements:
                - type: Edit
                  name: Incoming_edit
                - type: DropDown
                  name: Incoming_dropdown
                - type: CheckBox
                  name: Incoming_secure_checkbox
                  string: D_NEWACC_WIZ_USE_SECURE_CONNECT
                - type: CheckBox
                  name: Leave_on_server_checkbox
                  string: D_NEWACC_WIZ_LEAVE_ON_SERVER
                  content:
                    type: CheckBox
                    name: Delete_permanently_checkbox
                    string: D_MAIL_REMOVE_FROM_SERVER_WHEN_REMOVED_LOCALLY
          - type: GroupBox
            name: Outgoing_group
            content: 
              type: StackLayout
              elements:
                - type: Label
                  name: label_for_Outgoing_edit
                  string: DI_IDSTR_M2_NEWACC_WIZ_OUTGOING_SERVER
                - type: Edit
                  name: Outgoing_edit
                - type: CheckBox
                  name: Outgoing_secure_checkbox
                  string: D_NEWACC_WIZ_USE_SECURE_CONNECT
      - type: StackLayout
        name: Import_page
        elements:
          - type: Label
            string: D_NEWACC_WIZ_PROGRAM_TO_IMPORT
          - type: ListBox
            name: Import_type_listbox
      - type: StackLayout
        name: Import_details_page
        elements:
          - type: Label
            name: label_for_Account_path_browse
          - type: Label
            name: Account_path
          - type: StackLayout
            orientation: horizontal
            elements:
              - type: Button
                name: Account_path_browse
                string: D_BROWSE
              - type: Button
                name: Account_path_dir_browse
          - type: TreeView
            name: Import_setimportaccount
          - type: StackLayout
            orientation: horizontal
            elements:
              - type: Label
                name: label_for_Import_intoaccount_dropdown
                string: D_NEW_ACCOUNT_IMPORT_INTO
              - type: DropDown
                name: Import_intoaccount_dropdown
          - type: CheckBox
            name: Import_settings_check
            string: DI_ID_CHK_NEW_ACCT_SETTING
          - type: CheckBox
            name: Import_messages_check
            string: D_NEWACC_WIZ_IMPORT_MESSAGES
          - type: CheckBox
            name: Import_contacts_check
            string: D_NEWACC_WIZ_IMPORT_CONTACT
          - type: StackLayout
            orientation: horizontal
            elements:
              - type: Label
                name: label_for_Move_to_sent_dropdown
                string: D_NEW_ACCOUNT_IMPORT_MOVE_TO_SENT
              - type: DropDown
                name: Move_to_sent_dropdown
      - type: StackLayout
        name: Progress_page
        elements:
          - type: Label
            name: Import_info_label
            wrap: true
          - type: Progress
            name: Import_progress_bar
    button-strip:
      <<: *WizardButtonStrip
      dynamic_help_anchor: true

########## New Account Wizard
  - type: AlertDialog
    name: Ask Cookie Dialog
    skin-image: Dialog Question
    title: D_ASKCOOKIE_TITLE
    content:
      type: StackLayout
      elements:
        - type: GridLayout 
          elements:
            - type: GridRowLayout
              elements:
                - type: Label
                  name: server_heading_label
                  string: D_ASKCOOKIE_REQUEST_FROM
                - type: Label
                  selectable: true
                  name: server_heading
            - type: GridRowLayout
              elements:
                - type: Label
                  name: domain_heading_label
                  string: D_ASKCOOKIE_REQUEST_FOR
                - type: Label
                  selectable: true
                  name: domain_heading
        - type: Label
          wrap: true
          name: description_edit
        - type: CheckBox
          name: session_only_checkbox
          string: D_ASKCOOKIE_DELETE_ON_EXIT
        - type: CheckBox
          name: saveall_server_checkbox
          string: D_ASKCOOKIE_ALL_COOKIES_FROM_SERVER
        - type: Expand
          expanded: false
          string: D_ASKCOOKIE_SHOWHIDE_DETAILS
          content:
            type: GridLayout
            elements:
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: name_label
                    string: D_ASKCOOKIE_COOKIE_NAME
                  - type: Label
                    selectable: true
                    name: name_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: value_label
                    string: D_ASKCOOKIE_COOKIE_VALUE
                  - type: Label
                    selectable: true
                    name: value_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: expires_label
                    string: D_ASKCOOKIE_COOKIE_EXPIRES
                  - type: Label
                    selectable: true
                    name: expires_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: domain_label
                    string: D_ASKCOOKIE_COOKIE_DOMAIN
                  - type: Label
                    selectable: true
                    name: domain_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: path_label
                    string: D_ASKCOOKIE_COOKIE_PATH
                  - type: Label
                    selectable: true
                    name: path_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: port_label
                  - type: Label
                    selectable: true
                    name: port_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: comment_label
                    string: D_ASKCOOKIE_COOKIE_COMMENT
                  - type: Label
                    selectable: true
                    name: comment_edit
              - type: GridRowLayout
                elements:
                  - type: Label
                    name: commentURL_label
                    string: D_ASKCOOKIE_COOKIE_COMMENTURL
                  - type: Label
                    selectable: true
                    name: commentURL_edit
    button-strip:
      help_anchor: cookies.html#dialog
      special-content: 
        <<: *DoNotShowAgainCheckBox
        string: S_ASKCOOKIE_DONT_PROMPT
      buttons:
        - <<: *OkButton
          string: DI_IDM_ACCEPT_COOKIE
          action-string: Accept Cookie
        - <<: *CancelButton
          string: DI_IDM_NOACCEPT_COOKIE
          action-string: Refuse Cookie
        - *HelpButton