<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>

<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<META http-equiv="Content-Style-Type" content="text/css">
<title>EmBrowser Documentation</title>
	
<style type="text/css">
<!--
body {
	background:#d2d2da;
	font-family:'trebuchet ms', verdana, arial, sans-serif;
	font-size:13px;
	color:#222;
	margin:0;
	padding:0;
	}
	
table {
    border: 1px solid;
    padding: 0;
    border-spacing: 0;
    font-size: 12px;
    border-collapse: collapse;
    border-bottom: 1px solid;
    border-top: 1px solid;
	background:#fff;    
    }
    
#top {
	background:#c31b1c;
	height:59px;
	}

h1 {
	font-size:20px;
	margin-top:0;
	}

h2 {
	font-size:15px;
	}

h3, h4, h5, h6 {
	font-size:13px;
	}

a:link {
	color:#00d;
	}

a:visited {
	color:#009;
	}

a:hover {
    background:#c2c2c9;
	}

th { 
        text-align: left;
   }

td {
    background-color: rgb(204, 204, 204);
    border-bottom: 1px solid;
    border-top: 1px solid;
    border-right: 1px solid;
	}

caption {
	font-size:13px;
        font-weight: bold;
}

dt { font-style: italic; margin-top: 1em; font-weight: bold; }

div.code {
    font-family:  "Lucida Console", "Courier New", monospace; 
    background-color: lightyellow;
    padding-bottom:20px;
    border-width:30px 30px 30px 30px;
    border-color:black;
    margin-top:20px;
    margin-bottom:20px;
    margin-left:2em;
    margin-right:2em;
    white-space:pre;
    overflow: hidden;
    min-width: 90%;
    }

tablecontent {
	font-family:  "Lucida Console", "Courier New", monospace; 
	font-size:13px;
    font-weight: bold;
    }
-->
</style>

</head>

<body>

<div id="top">

<IMG SRC="data:image/gif;base64,
iVBORw0KGgoAAAANSUhEUgAAAGgAAAA7CAMAAACg2D/KAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGAUExURW4S
G9nDxPe8wKQkJrZpaciYme3l5dOpqeNOTrg4OPPs7MMbHJMoKqpVVadHSLgMB////8V4ePeGifVqbPj19dUjJMOGh7d0dKsYGOnc3Ow2OPVYXOHU1LtGRveUl7uIiMJm
ZqQ2N6xpac6kpOMoKdKysrlbXN/JyVkMDb4gIfbx8dsfIObb282srNW8vaMaGvjDx60eIJoWF8RWV8VGR8EiI9q7u/n4+MMoKbobHME3ONQVE9C3t/z8/L8TELUiIvfV
1q0sLNmxsd3OzsWkpL4sLKFRUrkwMLF5eb+RkcMVEvv6+pMbJP39/bwQC7IaG7KBgcMRDM4aGs+Li64KA7MmJ8anp78mJ6xfX7UXFH0UIIQWIvZ3eMoVEuAtL/NCRsoY
F/ijploeI99AQOdXWIUIBfFNT/itssstLcggINU1NS0PEfi0uNVTU78XFokUFJ4HAmstL7gmKI8QDpoRD+Bnadx9f8IuL+zf37JOTsefoLFAQebX1+RwcMuSk////yfT
1XoAAACAdFJOU///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////8AOAVLZwAACbFJREFUeNpiqKcTAAggBnpZBBBAdLMIIIDoZhFAANHNIoAAoptFAAFEN4sAAohu
FgEEEN0sAgggHBZJcEsgkdSwCCCAsFskkZcXG2ttrS0al5ycYcFNDZsAAgirRfqRXrGxIJusYxNEkzlMLMA+owwABBAWiyyNvKwTEuys84qLQwL9+Pm9snKTKbcJIIAw
LfI3AgZZkJdKkUZ2drYGv52dH39sclYmpRYBBBCGRf4l2nGimQkqHEnZDEYM2Rp+doGB/PxxyZkU+gkggNAt4jZSkYpT0RZNK0yyBPL0C1MD/UDhR7FNAAHEgG5PXLxU
XJx2slWSJSitcTMnAeMJ5CepZMrSHkAAoVlkZCEtDbIpzUcRYi53EshLQD/FcmQQMEqCmxuEIGxkcTAJEECoFukzC8cIA21KTjaygHqRh4E/EBx6cblwZYriuqxqjiAz
KgVZFHg5NYFmcbIoKLAosFRzMysIKrBUOsKtYhEEUwABhGaRsZwQyCbpLGZNqJAPOOz8AvljU2BeEhcAAT2gTaa6YKaHYX29ApglECzBWQGi2Vj0IUGiJCAQAKIBAgjV
Ih+5dLBNwhbM8FSYVAAOu0D+ZBOIiBvQmCobAYEq/XpTZQFvHV8BAU9/CaBFXDIyMkrcnDUC5pLmAgIRkFAEKtQKBdIAAYRikZGxgUFOIsgqzSJ48gBGEj/QJjt+0RSw
gL2kgHOloWuEgICbBNAiRmM+dQEBHm4gn9fHkcceZFGYu4KMgA7YrY4iQO+B4hsggFAs0i9LzwFaJScnzK2JbJEfMDN5+SVALFIUEfAERrohm0CVqaGygA0ztzjIKKCP
eA197Lm5FWtA8soCbI6QkGNUFwgA+g0ggFAs8ikTkktMZzJgEs6Dx6VEVGogsHSw8wqMTQYLqJkLsHBzc+vrCdi4crsI2FiZegItAgWdCBubE7cE0Edm7hFcAjL2QMWG
kgJ8br5sjtz1AAGEYhGPcEyMkJBcuoFwJDzTcEcxBPrZ2dl5eQVmgQUEvX0FganYQheYHEAOZ3UyF6gBBx0QOEiAgs4XGF7efCAjIgS4OIskBXi5JQACCMUi5jRpaWHh
GCG5NEQhKpHPEGjnBbTHK1AK5iNxoI8MgT4qB/oInMSABgF9pCfPKgj2EQjIg/O7p4COQnUNkMMNEECoQSclFR8PskyKG8VHIHtivbziIHGkJSAPjCN7YByFG7oI2Nao
s1dL1APjyFsNlGFBcVQDTPUeoPrSR0bAl43NVkDGkRsggBiQc7aPShwQAG1DtsiIIdYrAQS8VMACoWwCMtUSmgHQVKdjzGkBVAwMOu/gapNKK1DQ6YbqCohEAG1VEoAC
JW6AAIJYBCo8LC3zfbRFwUBFRVMfZhXQoiAogFjEzSsgUMGqCsw8+txAi2qsIPU9KDFwcXEpgywy43Z0FjBXlNDUE+ASVFNgqRDQkwAIILBF3PoS+tHRPlE+1glBQQlA
qKLoo29oBLZKwihKRRRqP8QiQ1YtkCPVgbnDNMxXhxPiIgVfX5ComQSnjoCzpoSbuYBukaKzgJ4mNyitc3EDBBDIIsv8aIao6Cif6OjAWK88rzy7WJXqaCDfxwdUU+RH
AwtZFRW4RfX1mpXKBkxizCALKsVYwpnBnucUEwQCMTVuZsFgBWCo8Yo5chdFOLGAgtVNVZwbIICAFulHRwHtYQCaGwVKX6BMI1UdFR3NEO0TzWwoIcGTFi8FtAtoGSI6
sywgbSOgiRHsahIgq7ihpTc3CMDYmuCMrwksCwECiKFeE2hNFBD7+Bgx8AMt8fPjD5SqBosBg9PH0EhRWBpklZSUClK9BUv+Eny2bHzcjo6GhJpKAAHEIOEDsgVork+0
PgOoMQKsTv3ijXkYwH5i8GHmcQMVsyCrVKBVFDc0/YApeWA5F17lbCVBwCaAAGKoh/gHCJijNQpAtTYQcOQW+QDFokF+YuBNlIsRBlmlAg0td05HUI7l5DSt5w5XFgnV
dGcUMNE0NIXZZMotEe7oDm13akpwu4LUAwQQQ70P2BZw2Gmkgq3hD+FIMQSJRwMBQxKvQboQ0FPC8aJgP2h6eAtUuHM7KgsIKDvqO3kLSKo7iwhIsqjpcnJbKlVKcLPo
cloxCviKa4azKvEysmiycAlUqHEDBBBDvSE0jqIYmBkYIPaEJKdo1lv6QOIpqZLJAFR1xMSDMma9hKy3ap2Nvr66gI2ZQJijroivM6OzuW1FBC8wV1YL6HHbO5szu4rJ
qwrw6SuDsmqEgLOyJJcEQAABEwPMR1EMPgwF4KALiZMu4q7X9wGLJ5kkGjCBbJKyAPmI21jAs8iUu9qW1dXRSUAp1FNE1l2RkavS1F6GFVhhyDBXawFLNuZqFoE6bkUu
SV53ZTYTTV1zboAAAiZvwyiYn6JBYRcCRJnSoDYPyE/RUUm5wOIcaJNwBrgZwc2sLKAubloJTGvcld6s3B5aFtymYWzl3BLiXI5VAr4RESLu3IqM5iIC7NxWFWLcFnpc
wU5aLNwAAQTKsMwMUJsYojRA1vCH2KVxgFyv78MQXZiUIiSXA7QpDVrpcmuqVdjy8bFVS3C7+dZxB2g51lvosgHjvlrAhktVsqbGhpuZTVKWTyCAO5dLidtRVYBNV1aC
GyCAQBZBUjgYa2iA44hfShrcEtH0YUjykY4RSmRyEMqAVrqW1YYmvuKK3i7ujmYCvBIBWuX1mqwCPMA6HliSOgIbFBESsgKshrICNvpWXBESmp4CvBZWnBIAAQQp66A2
AdMzOOGFhIhK14JTZxFPUqa0MNBLTMmKsLaWObuTL58lq0BNjQCrPjfIovpKX3nLeokIAU/uUF+u0PpQMwH2CjYBFkURJaB6SV92kTBugACClt4+0RA/AW0qANnkl5Zo
DCpCJAqjpNKAVWFiqSK8UVfnpApsS4WLOTkByzvuABFg20BfXBBYLLrXcUpoCkYAXeiobKZsHFDtWlcNDC9OZT1lPm6AAILWR9yWQKugNoH9lBCTmJWXZ8TAECQVDwy7
UkVNREEXbgrOjOHhoBLOk8sVFMbQggneUg2HlHVgtiawYOQGCCAGeLvV0hCYxMA2MYTw+4UkpEireJWUeKnESUnH5PrgbOGzsZoS1fYGCCDUGpbZB1S+aWikAhMfP6jH
Z62tIhWfouiDx4Rq4hr5AAGE2lKVsDQ0BFYOIKsKQvgDYxO0tUWzFHn0Ke9Z1gMEEGaPD1in+xj6MABBanFxPjAs9anS/QcIILqNMwAEEN0sAgggulkEEEB0swgggOhm
EUAA0c0igACim0UAAUQ3iwACiG4WAQQQ3SwCCCC6WQQQYADOQQaPHx0rYAAAAABJRU5ErkJggg" ALT="Opera Software">

</div>

<h1>EmBrowser 3.0</h1>

<h1>Embedding the Opera Rendering Engine in Desktop Applications</h1>
<h2 id=contents>Table of Contents</h2>
<ol start="1" type="1">
  <li><a href="#contents">Table of Contents</a></li>
  <li><a href="#intro">The Browser Component<br>
    </a>- <a href="#operacontrol">Control</a><br>
    - <a href="#operafocus">Focus </a></li>
  <li><a href="#api">The EmBrowser API</a><br>
    - <a href="#api_general">General</a><br>
    - <a href="#api_backwards">Backwards Compatibility</a><br>
    - <a href="#api_spec">Specifications</a><br>
    - <a href="#api_thread">Thread Safety</a><br>
    - <a href="#api_reentrancy">Reentrancy</a><br>
    - <a href="#api_func_cat">Function Categories</a><br>
    - <a href="#api_messages">Messages</a></li>
  <li><a href="#special_issues_win">Special Issues for Embedding Opera 7.5 on 
    the Windows Platform</a><br>
    - <a href="#win_os">Operating System Support</a><br>
    - <a href="#win_functions">Functions</a><br>
    - <a href="#win_struct">Structure Alignment</a><br>
    - <a href="#win_dist">Distribution</a><br>
    - <A href="#win_java">Java</A></li>
  <li><a href="#special_issues_mac">Special Issues for Embedding Opera 7.5 on 
    the Macintosh Platform</a><br>
    - <a href="#mac_os">Operating System Support</a><br>
    - <a href="#mac_executable">Executable Format</a><br>
    - <a href="#mac_events">Event Handlers</a><br>
    - <a href="#mac_java">Java Support and Thread Issues</a><br>
    - <a href="#mac_back_exceptions">Backwards Compatibility Exceptions</a><br>
    - <a href="#mac_struct">Structure Alignment</a><br>
    - <a href="#mac_distribution">Distribution</a><BR>
  - <A href="#mac_plugins">Plug-Ins</A><BR>
  - <A href="#mac_localfiles">Local File Browsing</A></li>
  <li><a href="#data_types">Data Types</a><br>
    - <a href="#data_string">String Formats</a><br>
    - <a href="#data_opaque">Opaque Browser Types</a><br>
    - <a href="#data_opaque_30">Opaque Browser Types - Added in EmBrowser 3.0</a><br>
    - <a href="#data_structs">Browser Structs</a><br>
    - <a href="#data_structs_30">Browser Structs - Added in EmBrowser 3.0</a></li>
  <li><a href="#enums">Enumerated Types</a></li>
  <li><a href="#instance_apis">Browser Instance API</a>s<br>
    - <a href="#br_creation">Creation and Deletion</a><br>
    - <a href="#br_screen_port">Screen Port Management</a><br>
    - <a href="#br_navigation">Basic Navigation</a><br>
    - <a href="#br_properties">Properties</a><br>
    - <a href="#br_command">Command Messages</a><br>
    - <a href="#br_misc">Miscellaneous</a></li>
  <li><a href="#document_apis">Document Instance APIs</a></li>
  <li><a href="#notifications">Notifications</a></li>
  <li><a href="#misc_apis">Miscellaneous APIs</a><br>
    - <a href="#misc_memory">Memory Allocation</a></li>
  <li><a href="#misc_apis_30">Miscellaneous APIs - Added in EmBrowser 3.0</a><br>
    - <a href="#misc_cookies">Cookies</a><br>
    - <a href="#misc_history">History</a><br>
    - <a href="#misc_javascript">JavaScript</a><br>
    - <a href="#misc_thumbnail">Thumbnail</a><br>
    - <a href="#misc_plugin">Plug-in</a><br>
    - <a href="#misc_properties">Properties</a><br>
    - <a href="#misc_image">Image Display</a><br>
    - <a href="#misc_visibility">Visibility of Visited Links</a>
   <li><a href="#misc_additions">Miscellaneous</a><br>
    - <a href="#misc_proxyservers">Proxy servers</a><br>
    - <a href="#misc_cache">Cache</a><br>
    - <a href="#adding_plugins">Adding plugins</a><br>
	- <a href="#file_urls">Local file URLs and security policy</a></li>
</ol>
<h2 id="intro">The Browser Component</h2>
<p>The Opera Rendering Engine Library is the Opera 7.5 (or 9.0) browser embeddable in third 
  party desktop applications (referred to has &quot;host&quot; applications) by 
  using the EmBrowser 3.0 API. Ideally third party host applications make use 
  of the installed Opera 7.5 desktop application. This is done by simply using 
  a discovery process to find a copy of Opera on the local computer with a compatible 
  API version from which to create embedded browser instances. This avoids the 
  issue of having unnecessary multiple copies of Opera for each host application 
  that embeds Opera.<br>
  <br>
  An instance of the embedded browser consists of the rectangle containing the 
  browser content area, optionally with scrollbars. All other Opera UI elements 
  that exist outside of the rendering rectangle in the desktop browser such as 
  menus, m2 mailer, hotlist, etc. are absent. Only UI elements that actually belong 
  to the rendering area, such as dialogs, simplified contextual menus, and mouse 
  gestures can be included in instances of the embedded browser. </p>
<h3>Control</h3>
<p>The browser component is designed to be a control. Opera subscribes to its 
  own operating system events, accesses the network, and draws itself automatically, 
  without any intervention needed from the host application. This makes the job 
  of embedding Opera as easy as possible because the host application does not 
  have to dedicate a lot of coding effort into controlling Opera on behalf of 
  the operating system by trapping and dispatching events. That said, it should 
  be emphasized that the host application still has complete control over Opera, 
  this is just accomplished in an easier way via the EmBrowser API. </p>
<h3>Focus</h3>
<p>The concept of focus between the host application and embedded browser is very 
  central to embedding Opera. When Opera has focus, it receives and processes 
  keyboard and mouse events, and when the host application has focus, it receives 
  mouse and keyboard events. When Opera detects a mouse click in the browser content 
  area when the host application has focus, Opera requests the host application 
  to be given focus. If the host application grants focus, Opera will then automatically 
  handle subsequent keyboard events and mouse events that relate to the browser. 
</p>
<p><strong>In general:</strong></p>
<p>To allow Opera to receive mouse events: EmBrowserSetVisibilityProc(TRUE), EmBrowserSetActiveProc(TRUE).</p>
<p>To allow Opera to receive keyboard events: EmBrowserSetVisibilityProc(TRUE), 
  EmBrowserSetActiveProc(TRUE), and EmBrowserSetFocusProc(TRUE).</p>
<h2 id="api">The EmBrowser API</h2>
<h3  id="api_general">General</h3>
<p>The EmBrowser API is a platform-independent, C API used to create browser instances, 
  interact with and control Opera. Platform-specific data types have been purposely 
  kept out of the header file to facilitate the easiest possible cross-platform 
  integration of the browser component.</p>
<h3 id="api_backwards">Backwards Compatibility</h3>
<p>The API is designed to have binary backwards compatibility with the use of 
  padded structures containing the browser functions. This makes it possible for 
  older programs to embed newer versions of Opera without encountering difficulty. 
  The EmBrowser.h header file specifies which values are part of the EmBrowser 
  version 2.0, and which were introduced as part of EmBrowser version 3.0. In 
  this document all functions, enums, and data structures can be assumed to be 
  EmBrowser 2.0 compatible unless otherwise it is specifically noted in various 
  sections as EmBrowser 3.0.</p>
<p>The full-featured Opera 7.5 desktop browsers for Windows and Macintosh were 
  released with the EmBrowser 3.0 API. This API is backwards compatible with EmBrowser 
  2.0 which was released with the Opera 6.03 on Macintosh. Host applications that 
  use the same codebase for their The goal has been that Macintosh and Windows 
  applications should be able to embed Opera 7.5 using the EmBrowser 3.0 API with 
  as few platform specific considerations in the code as possible.</p>
<h3 id="api_spec">Specifications</h3>
<p>The web technology specifications of the embedded browser are identical to 
  those of the Opera browser being embedded by the host application. This information 
  can be found on Opera's web site <a href="http://www.opera.com/docs/specs/">here</a>.</p>
<h3 id="api_thread">Thread Safety</h3>
<p>Opera is not a thread safe application as it runs on many platforms that do 
  not support threads.</p>
<h3 id="api_reentrancy">Reentrancy</h3>
<p>Opera is not re-entrant, which means that special care should be taken to avoid 
  calling back into Opera from an Opera callback. Doing so can cause unexpected 
  behavior. This is because when Opera calls back into the host application during 
  a notification or notification message there can already be a command sequence 
  executing on the stack. </p>
<p><strong>Exceptions to this rule:</strong></p>
<ul>
  <li>&quot;Get&quot; functions are the only functions that can be guaranteed 
    to work from a callback. </li>
  <li>JavaScript functions can be called from JavaScript callbacks.</li>
</ul>
<h3 id="api_func_cat">Function Categories</h3>
<ul>
  <li><b>Browser Instance</b>: Functions that operate on the browser instance 
    (EmBrowserRef) level. 
  <li><b>Browser Document: </b>Functions that operate on a specific browser document 
    (EmDocumentRef). There can be many browser documents per browser instance. 
  <li><b>Notifications:</b> Function callbacks from Opera into the host application 
    which modification parameters, or halt the browser during various operations. 
  <li><strong>Miscellaneous:</strong> Functions which do not call for an EmBrowserRef 
    or EmDocumentRef. These break the original design concept, but have nonetheless 
    crept in. These APIs can cause unexpected results if Opera has not been properly 
    initialized. 
</ul>
<h3 id="api_messages">Messages</h3>
<ul>
  <li><b>Notification Messages:</b> Messages used by the browser to communicate 
    with the host application via a callback. See EmBrowserAppSimpleNotificationProc<b>.</b> 
  <li><b>Command Messages: </b>Messages used by the host application to control 
    Opera. See EmBrowserDoHandleMessageProc. 
</ul>
<p><br>
</p>
<h2 id="special_issues_win">Special Issues for Embedding Opera 7.5 on the Windows 
  Platform</h2>
<h3 id=win_os> Operating System Support</h3>
<p>Opera 7.5 works with Windows 95SE, 98, ME, NT4, 2000, XP.</p>
<h3 id="win_functions">Functions</h3>
<p><strong>EmBrowserProcessOperaMessageProc:</strong> Message hook for mouse and 
  keyboard handling<br>
  Exported by Opera.dll as <strong>TranslateOperaMessage</strong><br>
  <br>
  EmBrowserSetFocusProc ensures that most messages from Windows are correctly 
  sent to the browser window proc. However, Opera needs to process virtual-key 
  messages and this must be done before a call to TranslateMessage, just like 
  when using TranslateAccelerator. See test application for example. </p>
<h3 id="win_struct">Structure Alignment</h3>
<p>Opera uses struct member alignment set to 4, four, bytes throughout all modules 
  on Win32. For applications passing structures back and forth this has to be 
  the same. Otherwise data corruption will occur.</p>
<p>
To facilitate the use of EmBrowser for applications with a different alignment, 
EmBrowser.h starts with</p>

<div class="code">
# pragma pack( push, before_embrowser_pack )
# pragma pack(4)
</div>
and ends with 
<div class="code">
# pragma pack( pop, before_embrowser_pack )
</div> 
  
<h3 id="win_dist">Distribution</h3>
		<p>Create a directory for your instance of Opera, %OPERADIR%. Add an operadef6.ini
file that contain the section and entry :<br>
			<br>
			[System]<br>
			Multi user=0<br>
			<br>
			this will make Opera create a profile directory within the %OPERADIR%

directory. Otherwise a profile directory will be created with files in

the current users application data area (I.e. "C:\Documents and

Settings\%USERNAME%\Application Data\Opera\Opera\profile" where the

logic is %APPLICATIONDATA%\Opera\%{foldername of directory with

Opera.exe}%\profile)<br>
		</p>
		<p>In your %OPERADIR% you need to create two directories:<br>
		</p>
		<p>-defaults<br>
			-skin<br>
			<br>
			that contain the following files<br>
			<br>
			defaults/<br>
			&nbsp;&nbsp; <span style="font-style: italic;">embedded_mouse.ini</span> - define mouse actions<br>
			&nbsp;&nbsp; <span style="font-style: italic;">embedded_menu.ini</span> <span style="font-style: italic;">-</span> define all menus, also context<br>
			&nbsp;&nbsp; <span style="font-style: italic;">embedded_keyboard.ini </span>-<span style="font-style: italic;"> </span>define keyboard input<br>
			&nbsp;&nbsp; <span style="font-style: italic;">standard_toolbar.ini</span> -<span style="font-style: italic;"> </span>define toolbars in Opera-drawn ui<br>
		</p>
		<p>skin/<br>
			&nbsp;&nbsp; <span style="font-style: italic;">windows_skin.zip</span> - the default skin set if no other is specified in <span style="font-style: italic;">operadef6.ini</span>. Most widgets are platform native. (Scrollbars, comboboxes, radiobuttons, checkboxes.)<br>
			&nbsp;&nbsp; <span style="font-style: italic;">standard_skin.zip</span> - includes a superset of all graphics used. If an image is missing from the specified skin the image is gotten from this file.</p>
		<p>This gives you a standard working setup.</p>
All ini files is in human readable form, text, and can be modified with a text editor. An example from <span style="font-style: italic;">embedded_menu.ini</span>:<br>
		<div class="code">
		[Link Popup Menu]
Item, 67389                             = Open link
Item, 50216                             = Copy link
--------------------1
Submenu, 157500, Encoding Menu          = 
Submenu, 162000, Quick Preferences Menu = Show popup menu, &quot;Quick Preferences Menu&quot;
		</div>
		This is the context menu when right clicking on a link. The section name [Link Popup Menu] is fixed for Opera lookup. The first &quot;Item&quot; is just a type id, item is a standard menu item. The number following, here ie. 67389, is a lookup number from our stringtable in the language file. You can also use &quot;hardcoded&quot; strings here, but that is not recommended. Following the &quot;item&quot; description is an action.<br>
		<br>
		If this section is removed from <span style="font-style: italic;">embedded_menu.ini</span> there is no context menu shown when right clicking links.<br>
		<br>
		The above mentioned configuration files can be stored anywhere on the system if pointed to in <span style="font-style: italic;">operadef6.ini</span>:<br>
		<div class="code">
[User Prefs]
Mouse Configuration=defaults/embedded_mouse.ini
Keyboard Configuration=defaults/embedded_keyboard.ini
Toolbar Configuration=defaults/standard_toolbar.ini
Menu Configuration=defaults/embedded_menu.ini
		</div>
		
					<h4>Main Opera directory contents<br></h4>
					This is the directory mentioned above as %OPERADIR%<br>
					<br>
					<table class="tablecontent" summary="Files in Opera">
						<caption id="modules">Program modules</caption>
						<thead>
							<tr>
								<th>Filename</th>
								<th>Use</th>
								<th>Format</th>
								<th>Overwritten on install</th>
								<th>Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>chartables.bin</td>
								<td>Contains tables for Unicode support</td>
								<td>binary</td>
								<td>yes</td>
								<td>-</td>
							</tr>
							<tr>
								<td>es262-32.dll</td>
								<td>ECMAScript (JavaScript) module.</td>
								<td>binary</td>
								<td>yes</td>
								<td>-</td>
							</tr>
							<tr>
								<td>opera.dll</td>
								<td>Main library including HTML renderer, mailer, UI, image decoders</td>
								<td>binary</td>
								<td>yes</td>
								<td>-</td>
							</tr>
							<tr>
								<td>OUniAnsi.dll</td>
								<td>Unicode to Ansi conversion library for Win9x<br>
								</td>
								<td>binary</td>
								<td>yes</td>
								<td>-</td>
							</tr>
							<tr>
								<td>xmlparse.dll</td>
								<td>XML parser module.</td>
								<td>binary</td>
								<td>yes</td>
								<td>-</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">zip.dll</td>
								<td style="vertical-align: top;">Zip module.</td>
								<td style="vertical-align: top;">binary<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;">Not required in 9.0<br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">dialog.ini<br>
								</td>
								<td style="vertical-align: top;">Dialog definitions<br>
								</td>
								<td style="vertical-align: top;">text/plain<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;">-<br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">english.lng<br>
								</td>
								<td style="vertical-align: top;">Language strings<br>
								</td>
								<td style="vertical-align: top;">text/plain<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;">This is a fallback if no other is specified in the operadef6.ini or opera6.ini<br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">xmlentities.ini<br>
								</td>
								<td style="vertical-align: top;">XML doc type map<br>
								</td>
								<td style="vertical-align: top;">text/plain<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;">Says which XML document types to map to which local DTD-replacement files<br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">html40_entities.dtd<br>
								</td>
								<td style="vertical-align: top;">XHTML DTD replacement<br>
								</td>
								<td style="vertical-align: top;">text/plain<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;">Minimal XHTML DTD replacement that declares character entities that authors seem to assume are declared<br>
								</td>
							</tr>
						</tbody>
					</table>

					<table class="tablecontent" summary="Files in Opera">
  <CAPTION id="data"><br>
							<br>
							<br>
  Profile</CAPTION>
</table>
					<br>
					The following four directories will be created in the profile root: acpo, cache4, images and sessions.<br>
					<h5>acpo directory contents<br>
					</h5>
					<table class="tablecontent" summary="Files in Opera">
						<caption>Acpo files</caption>
						<thead>
							<tr>
								<th>Filename</th>
								<th>Use</th>
								<th>Format</th>
								<th>Overwritten on install</th>
								<th>Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>acpoxxxxxx.bin</td>
								<td>These files contain info about the ads shown in the ad window. See <a href="http://www.opera.com/docs/ads/">www.opera.com/docs/ads/</a> for a detailed explanation.</td>
								<td>binary</td>
								<td>no</td>
								<td>-</td>
							</tr>
						</tbody>
					</table>
					<h5>Cache4</h5>
					<table class="tablecontent" summary="Files in Opera">
						<caption>Cache files</caption>
						<thead>
							<tr>
								<th>Filename</th>
								<th>Use</th>
								<th>Format</th>
								<th>Overwritten on install</th>
								<th>Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>dcache4.url</td>
								<td>Index of the cached files; without index the files are useless. dcache4.url is updated on closing Opera.</td>
								<td>binary</td>
								<td>no</td>
								<td>Cache settings can be found at &quot;File &gt; Preferences &gt; History and Cache&quot;.<br>
									These files are removable, but to empty the cache, you can also use 'Delete private data' from the File menu in Opera.<br>
									Editable with Joe Segur's <a href="http://www.westelcom.com/users/jsegur/#ofe">Opera File Explorer</a>, a third party helper app.</td>
							</tr>
							<tr>
								<td>oprxxxxx.xxx</td>
								<td>These are the cached files.</td>
								<td>Same as the original files</td>
								<td>no</td>
							</tr>
						</tbody>
					</table>
					<h5>Sessions</h5>
					<br>
					<table class="tablecontent" summary="Files in Opera">
						<caption>Window setups<br>
						</caption>
						<tbody>
							<tr>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Filename</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Use</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Format</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Overwritten on install</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Additional info</span><br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;"><br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
							</tr>
						</tbody>
					</table>
					<h5>Images</h5>
					<table class="tablecontent" summary="Files in Opera">
						<caption>Images</caption>
						<thead>
							<tr>
								<th>Filename</th>
								<th>Use</th>
								<th>Format</th>
								<th>Overwritten on install</th>
								<th>Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>*.*<br>
								</td>
								<td>User stored images and favicons</td>
								<td >image/png (image/jpeg, image/gif or image/x-windows-bmp are also possible</td>
								<td>no<br>
								</td>
								<td>-</td>
							</tr>
						</tbody>
					</table>
					<br>
					<h4>Profile directory contents<br>
					</h4>
					<table class="tablecontent" summary="Files in Opera">
					  <CAPTION id="data">
					  <br>
					  <br>
					  Stored usage data</CAPTION>
						<thead>
							<tr>
								<th>Filename</th>
								<th>Use</th>
								<th>Format</th>
								<th>Overwritten on install</th>
								<th>Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td style="vertical-align: top;">adprefs.ini<br>
								</td>
								<td style="vertical-align: top;">Configurations for banner.<br>
								</td>
								<td style="vertical-align: top;">text/plain<br>
								</td>
								<td style="vertical-align: top;">no<br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
							</tr>
							<tr>
								<td>cookies4.dat</td>
								<td>Stores cookies.</td>
								<td>binary (see <a href="http://www.opera.com/docs/fileformats/#cookies">description</a>)</td>
								<td>no</td>
								<td>File is removable, but to delete all cookies at once, you can also use 'Delete private data' from the File menu in Opera.<br>
								</td>
							</tr>
							<tr>
								<td>download.dat</td>
								<td>Stores information about recent downloads, as seen in the Transfer window. Useful to keep track of downloaded files and enable the 'Resume download' function.</td>
								<td>binary</td>
								<td>no</td>
								<td>File is removable, but to delete all download data, you can also use 'Delete private data' from the File menu in Opera.<br>
									There's an opera.ini-only setting for the number of days to keep download data available: <code>LogEntryDaysToLive=</code> under [User Prefs].</td>
							</tr>
							<tr>
								<td>global.dat</td>
								<td>Stores the global history. Properties for the Global history are set from &quot;File &gt; Preferences &gt; History and cache&quot;. URLs stored in the Global history are used for the auto complete function, and can be checked from &quot;Window &gt; Special &gt; History&quot;.</td>
								<td>text/plain</td>
								<td>no</td>
								<td>File is removable, but to clear the global history, you can also use 'Delete private data' from the File menu in Opera.<br>
									Easy to edit with Joe Segur's <a href="http://www.westelcom.com/users/jsegur/#ofe">Opera File Explorer</a>, a third party helper app.</td>
							</tr>
							<tr>
								<td>opcacrt6.dat</td>
								<td>Stores CA Certificates</td>
								<td>binary</td>
								<td>no</td>
								<td>More <a href="http://www.opera.com/support/supsearch/supsearch.cgi?options=index&amp;name=104">info about certificates</a>.</td>
							</tr>
							<tr>
								<td>opcert6.dat</td>
								<td>Stores Personal Certificates and private keys</td>
								<td>binary</td>
								<td>no</td>
								<td>More <a href="http://www.opera.com/support/supsearch/supsearch.cgi?options=index&amp;name=104">info about certificates</a>.</td>
							</tr>
							<tr>
								<td>opera.dir</td>
								<td>Stores 'Go to page' dialog history. This can be accessed from the Go To dialog, and clicking on the arrow to the right of the input field.</td>
								<td>text/plain</td>
								<td>no</td>
								<td>File is removable, but to clear the 'Go To' dialog history, you can also use 'Delete private data' from the File menu in Opera.</td>
							</tr>
							<tr>
								<td>oprand.dat</td>
								<td>Random seed file, used for generating keys</td>
								<td>binary</td>
								<td>no</td>
								<td>-</td>
							</tr>
							<tr>
								<td>opssl6.dat</td>
								<td>Stores SSL preferences</td>
								<td>binary</td>
								<td>no</td>
								<td>-</td>
							</tr>
							<tr>
								<td>jswarn.dir</td>
								<td>Not used and will be phased out.<br>
								</td>
								<td>text/plain</td>
								<td>no</td>
								<td>-</td>
							</tr>
							<tr>
								<td>vlink4.dat</td>
								<td>Stores visited links.</td>
								<td>binary</td>
								<td>no</td>
								<td>File is removable, but to clear all visited links at once, you can also use 'Delete private data' from the File menu in Opera.<br>
									Editable with Joe Segur's <a href="http://www.westelcom.com/users/jsegur/#ofe">Opera File Explorer</a>, a third party helper app.</td>
							</tr>
						</tbody>
					</table>
					<br>
					<h4>Skin directory<br>
					</h4>
					<p>This directory contains the default skin and fallback skin<br>
					</p>
					<table class="tablecontent" summary="Files in Opera">
						<tbody>
							<tr>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Filename</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Use</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Format</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Overwritten on install</span><br>
								</td>
								<td style="vertical-align: top;"><span style="font-weight: bold;">Additional info</span><br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">standard_skin.zip<br>
								</td>
								<td style="vertical-align: top;">Fallback skin, all images missing in other skins are fetched from this skinfile.<br>
								</td>
								<td style="vertical-align: top;">application/zip<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
							</tr>
							<tr>
								<td style="vertical-align: top;">windows_skin.zip<br>
								</td>
								<td style="vertical-align: top;">Default skin, uses system native widgets.<br>
								</td>
								<td style="vertical-align: top;">application/zip<br>
								</td>
								<td style="vertical-align: top;">yes<br>
								</td>
								<td style="vertical-align: top;"><br>
								</td>
							</tr>
						</tbody>
					</table>
					<br>
					<p><span style="font-weight: bold;">Note</span>: Edit the setting files externally only while EmBrowser is <em>not</em> running. All settings are flushed back to disk when EmBrowser exits.</p>
<h3 id="win_java">Java on Windows </h3>
<P>Opera for Windows is using a Java runtime environment installed on your
computer to run Java applets and to implement Netscape4 LiveConnect technology.
Opera does not use the plug-in software that comes with the JRE installation,
but loads the Java VM in its own fashion and uses JNI to communicate with
the VM. Opera for Windows is able to use the runtime environments from
Sun and IBM version 1.2 and upwards.</P>
<H4>Finding the JRE</H4>
<P>On Windows, Opera finds the JRE to use by searching through the registry
entries that the JRE and JDK installations write to the registry. The search
procedure described here is based on how it works in Opera 7.0 build 2312.
This is the first build which search the Sun JDK registry entries. In general,
Opera relies on the registry settings being correct. Typically, if the
registry contains entries for a runtime that has been deleted, and Opera
decides that this is the version it decides to use, Opera will not detect
this and will try to load the VM from the path given in the registry. Starting
the VM will then fail and Opera will not try to load the VM from another
runtime.</P>
<P>Opera is able to detect and use the following runtimes:</P>

<ul>
<li>Sun JRE 1.2 and newer</li>
<li>IBM JRE 1.2 and newer</li>
<li>Sun JRE installed as a part of the Sun J2SDK 1.2 and newer</li>
</ul>
<P>If there are more than one runtime environments detected by Opera, the following algorithm is used to decide which runtime to use:</P>

<ol>
<li>First read in the CurrentVersion entry for:
<ul>
<li>HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Runtime Environment (Sun
JRE)</li>
<li>HKEY_LOCAL_MACHINE\SOFTWARE\IBM\Java2 Runtime Environment (IBM JRE)</li>
<li>HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Development Kit (Sun JDK)</li>
</ul>
</li>
<li>Iterate through the registry subfolders for the Sun JRE. If the
CurrentVersion for it is supported, and matches one of them, and that
subfolder has a RuntimeLib value, that one is selected as the runtime
to use.</li>
<li>Iterate through the registry subfolders for the IBM JRE. If the
CurrentVersion for it is supported, and matches one of them, and that
subfolder has a RuntimeLib value, that one is selected as the runtime
to use.</li>
<li>Iterate through the registry subfolders for the Sun JDK. If the
CurrentVersion for it is supported, and matches one of them, and that
subfolder has a JavaHome value, jre\bin\client\jvm.dll or
jre\bin\hotspot\jvm.dll (depending on the JDK version) is appended to
the JavaHome to create the VM path and selected as the runtime to
use.</li>
<li>If none of the above selected a runtime, then one of the runtimes
that where iterated through with the newest version number is
selected (If it's a supported version).</li>
</ol>

<p>There is a <B>[Java]</B> section of the ini file to be used when using the native interface solution
for applet loading. There are three settings:</p>
<ul>
<li>Opera ClassPath</li>
<li>Security Policy</li>
<li>Enabled</li>
</ul>
<p>The &quot;Opera ClassPath&quot; is the path of the opera.jar file to be used. The &quot;Security Policy&quot; is the path to the opera.policy file that defines permissions for the opera.jar file. If these entries are omitted, Opera will use the following logic to search for opera.jar and opera.policy<BR>
<BR>
%OPERADIR%\Classes\opera.jar<BR>
%OPERADIR%\Classes\opera.policy<BR>
<BR>
Where %OPERADIR% is the directory where opera.dll is installed.<BR>
&quot;Enabled&quot; is a setting for turning Java on and off. Default is on.<BR>
Hence if the whole section is removed, Opera will try to find a compatible Java runtime and use it.
</p>
<p>
Example with absolute paths for opera.jar and opera.policy:
<div class="code">
[Java]
Opera ClassPath=D:/Program Files/Opera/Classes/opera.jar
Security Policy=D:/Program Files/Opera/Classes/opera.policy
Enabled=1</div>
opera.policy grant example:
<div class="code">
grant codeBase &quot;file:/${browser.opera.classpath}&quot; {
permission java.security.AllPermission;
};
</div>
<h2 id="special_issues_mac">Special Issues for Embedding Opera 7.5 on the Macintosh 
  Platform</h2>
		<h3 id="mac_os">Operating System Support</h3>
<p>Opera 7.5 works with Mac OS X 10.1 - 10.3 at the time this document was written. 
  It is intended to work with later versions of Mac OS X, but various issues can 
  occur with later versions due to Apple APIs changing. Contact your support representative 
  or check on www.opera .com for information as newer Mac OS versions are released.</p>
<h3 id="mac_executable">Executable Format</h3>
<p>Opera 7.5 uses the Mach-O executable format however, the EmBrowser API has 
  been made such that CFM applications can embed Opera 7.5. This is facilitated 
  with the use of a CFM shared library containing glue code which resides in the 
  application bundle Opera.app/Contents/Mac OS. This facilitates backward compatibility 
  for applications which embedded Opera 6.0x EmBrowser 2.0.</p>
<h3 id="mac_events"> Event Handlers</h3>
<p>Opera registers Carbon Event handlers onto the window level. The host application 
  should always register their own Carbon Event handlers before initializing Opera. 
  This insures correct event propagation between the host application and Opera. 
  The window has to be properly activated before the Carbon Event Dispatcher will 
  dispatch events to the window. Improper window activation on the side of the 
  host application can result in Opera not getting events.</p>
<h3 id="mac_java">Java Support and Thread Issues </h3>
<p>Java on Mac uses the JavaVM.framework (installed by default on all OSX versions) 
  to get a VM capable of Java version 1.2 or newer. We use the JavaEmbedding API to embed
  Java applets in carbon controls and we're currently limited to Java version 1.3.1. This may
  change in the future.
<p>LiveConnect is not working.
<p>The opera.jar and opera.policy files are kept inside the application package and
  they need to be there in order for java to work properly. 
  Both files are inside Opera.app/Contents/Resources/.
<p>Apple's JavaEmbedding framework used by Opera for Java Applet support spawns 
  many operating system threads. This is poor design on Apple's part, but unfortunately 
  beyond Opera's control. It requires that the host application take certain precautions 
  in making sure that if Java threads call back into event handlers that the event 
  is captured and re-posted onto the main thread. Sample code for this can be 
  found in WidgetApp. </p>
<h3 id="mac_back_exceptions">Backwards Compatibility Exceptions</h3>
<p>One Macintosh specific data type was erroneously overlooked in the EmBrowser 
  2.0/Opera 6.03 distribution. There was a Rect as a parameter to the EmBrowserAppRequestNewBrowserProc. 
  This has now been changed to an EmBrowserRect.</p>
<h3 id="mac_struct">Structure Alignment</h3>
<p>Default Codewarrior. Standard PPC Struct alignment. Longs are 4 byte aligned and that is the reason this type has been used throughout the EmBrowser API.  (No chars or shorts, which would be 2 byte aligned have been used in the API.)</p>
<h3 id="mac_distribution">Distribution</h3>
<p>Opera is a self-contained application bundle which is a drag-and-drop install 
  not requiring any installation program. Application bundle technology is used 
  by Opera in localized language support and selection among other things. Opera 
  on the Macintosh is designed to be embedded in third party applications from 
  the fully-installed application bundle. If a host application vendor wishes 
  to pull Opera components apart and place them otherwise, special care must be 
  taken to prevent unexpected side-effects or a partially disabled browser component.</p>
<p>Opera normally registers itself for some Mac OS X Services. If Opera is to be
  distributed inside another application bundle, make sure to remove the NSServices
  record from Opera.app/Contents/info.plist. Otherwise Mac OS will add items and 
  keyboard shortcuts to the Services menu.
</p>
<table class="tablecontent" summary="Files in Opera">
  <caption>
  <strong>Opera Bundle Contents</strong> 
  </caption>
  <thead>
    <tr> 
      <th width="121">Location</th>
      <th width="75">Filename(s)</th>
      <th width="59">Optional for Embedded</th>
      <th width="626">Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
    </tr>
  </thead>
  <tbody>
    <tr> 
      <td height="34">Opera.app/Contents/Frameworks</td>
      <td>*</td>
      <td>No</td>
      <td>No optional components in this folder.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/MacOS</td>
      <td>*</td>
      <td>No</td>
      <td>No optional components in this folder.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/PlugIns</td>
      <td>*</td>
      <td>No</td>
      <td>No optional components in this folder. Note: This is an extension to 
        the print dialog and has nothing to do with Internet Plug-Ins.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources<br> </td>
      <td>chartables.bin</td>
      <td >No</td>
      <td>Conversiont o UTF-16. Without this file, even English pages will not 
        be correct</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>default.adr</td>
      <td>Yes</td>
      <td>Default bookmarks</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/defaults</td>
      <td>embedded_*.ini</td>
      <td>No</td>
      <td>Embedded keyboard, menu and mouse configuration files.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/defaults</td>
      <td>standard_*.ini</td>
      <td>Yes</td>
      <td>Desktop keyboard, menu and mouse configuration files.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/defaults</td>
      <td>mac_keyboard.ini</td>
      <td>Yes</td>
      <td>Keyboard input specification file</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>dialog.ini</td>
      <td>No</td>
      <td>Authentication dialogs, etc.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/en.lproj</td>
      <td>default.adr</td>
      <td>Yes</td>
      <td>Localized default bookmarks</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/en.lproj</td>
      <td>en.lng</td>
      <td>No</td>
      <td>Contains English localized JavaScript, authentication dialogs, and load 
        status strings for embedded instances of Opera.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/en.lproj</td>
      <td>search.ini</td>
      <td>Yes</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/en.lproj/Help</td>
      <td>*</td>
      <td>Yes</td>
      <td>Browser help files</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>fastforward.ini</td>
      <td>Yes</td>
      <td>Mouse gestures will not work if this file is removed.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>hhd.ssr</td>
      <td>No*</td>
      <td>Not required in 9.0</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Images</td>
      <td>operabanner.png</td>
      <td>Yes</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>*.icns</td>
      <td>Yes</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources</td>
      <td>opera.jar, opera.policy</td>
      <td>Yes</td>
      <td>Only optional if you do not plan on using Java in the browser component.</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Skin</td>
      <td>mac_skin.zip<br>
        standard_skin.zip</td>
      <td>No</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Styles</td>
      <td>browser.css<br> <br></td>
      <td>No</td>
      <td>(CSS files in the &quot;Styles&quot; directory not specifically listed 
        in this table are optional.)</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Styles</td>
      <td>dir.css<br>
        drives.css</td>
      <td>No</td>
      <td>Optional if local file browser is not to be used in the browser component. 
      </td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Styles</td>
      <td>user.css</td>
      <td>No</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">Opera.app/Contents/Resources/Styles</td>
      <td>wml.css</td>
      <td>No</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>
<p>&nbsp;</p>
<table class="tablecontent" summary="Files in Opera">
  <caption>
  <strong>Files Created when Running Opera</strong> 
  </caption>
  <thead>
    <tr> 
      <th width="194">Location</th>
      <th width="106">Description</th>
      <th width="184">Filename(s)</th>
      <th width="385">Additional info<a href="http://www.opera.com/docs/operafiles/index.dml#note1"></a></th>
    </tr>
  </thead>
  <tbody>
    <tr> 
      <td height="34">~/Library/Preferences/Opera Preferences<br> </td>
      <td>Cookies</td>
      <td >cookies4.dat<br>
        vlink.dat</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">~/Library/Preferences/Opera Preferences</td>
      <td>Preferences</td>
      <td>Opera 7 Preferences</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">~/Library/Preferences/Opera Preferences</td>
      <td>Bookmarks</td>
      <td>Bookmarks</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">~/Library/Preferences/Opera Preferences</td>
      <td>Contacts</td>
      <td>Contacts</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">~/Library/Caches/Opera Cache/Cache &#402;</td>
      <td>Opera Desktop Browser Cache</td>
      <td>*</td>
      <td>&nbsp;</td>
    </tr>
    <tr> 
      <td height="34">~/Library/Preferences/Opera Preferences/&lt;creator ID or 
        PID &gt;</td>
      <td>Browser cache for host apps using EmBrowser API</td>
      <td>*</td>
      <td>Uses vendorDataID, 4 digit code, if specified (example for WidgetApp: 
        params-&gt;vendorDataID = 'wApp'), otherwise PID of host application.</td>
    </tr>
  </tbody>
</table>
<p>&nbsp;</p>
<h3 id="mac_plugins">Plug-ins</h3>
<p>To add plug-ins to be used in Opera, simply add them to the Mac OS plug-in 
  folder and re-start Opera. The folder is &quot;/Library/Internet Plug-Ins&quot; 
  at the system-level or on a per-user basis in &quot;~/Library/Internet Plug-Ins.</p>
<h3 id="mac_localfiles">Local File Browsing</h3>
<p>Browsing local files has changed slightly between Opera 6 to Opera 7.5. In 
  Opera 6 the volumename is part of the path, and with Opera 7.5, the root volume 
  can be assumed.</p>
<p><strong>Example in Opera 7.5:</strong><br>
  file://localhost/Users/&lt;username&gt;/Desktop/Release%20Archive/EmBrowser%20Docs/EmBrowserDoc.html</p>
<p><br>
  <strong>Same Example In Opera 6:</strong><br>
  file://localhost/&lt;volumename&gt;/Users/&lt;username&gt;/Desktop/Release Archive/EmBrowser 
  Docs/EmBrowserDoc.html</p>
<h2 id="data_types">Data Types</h2>
<p>The data types in EmBrowser API were chosen for as much consistency across 
  platforms as possible. For simplicity and alignment, longs were chosen for most 
  numeric and boolean values.</p>
<h3 id="data_string">String Formats: </h3>
<p>Opera is a full UTF-16 enabled program, the string formats used in Opera are 
  made up of null terminated strings of unsigned short values as specified in 
  the UTF-16 spec. The types are <strong>EmBrowserChar</strong> and <strong>EmBrowserString</strong> 
  for characters and strings respectively.</p>
<h3 id="data_opaque">Opaque Browser Types </h3>
<p><b>EmBrowserRef:</b> Represents a browser instance. This is a rectangular area 
  of rendered content which will be placed in a platform window by the host application.<br>
  E<b>mDocumentRef:</b> Represents a browser document or frame/frameset. One EmBrowser 
  can contain many documents.<b><br>
  </b></p>
<h3 id="data_opaque_30">Opaque Browser Types - Added in EmBrowser version 3.0</h3>
<p><b>EmCookieRef:</b> A browser cookie.<br>
  <b>EmHistoryRef:</b> A browser history item representing previously visited 
  pages.<br>
  <b>EmThumbnailRef:</b> A thumbnail image of a page of browser content. Thumbnails 
  are native and temporary. <br>
  <b>EmJavascriptObjectRef:</b> A JavaScript object.</p>
<h3 id="data_structs">Browser Structs</h3>
<p><b>EmBrowserRect</b>: A platform-independent rectangle.</p>
<p><strong>EmBrowserInitParameterBlock:</strong> Initialization parameter block. 
  Set of parameters and pointers which control how the embedded browser starts 
  up.</p>
<h3 id="data_structs_30">Browser Structs - Added in EmBrowser 3.0</h3>
<p><strong>EmJavascriptValue:</strong> Javascript value. Consists of a type (see 
  EmJavascriptType) and a specific value depending on the type.</p>
<p><br>
  <strong>EmJavaScriptType:</strong> A JavaScript type. </p>
<blockquote>
  <p>Possible values:</p>
</blockquote>
<ul>
  <li>emJavascriptNull: null</li>
  <li>emJavascriptUndefined: undefined</li>
  <li>emJavascriptBoolean: a truth value</li>
  <li>emJavascriptNumber: a floating point number</li>
  <li>emJavascriptString: a string (EmBrowserString)</li>
  <li>emJavascriptObject: an object (EmJavascriptObjectRef).<br>
    <br>
  </li>
</ul>
<h2 id="enums">Enumerated Types</h2>
<p><strong>EmLoadStatus:</strong> Browser loading status flags.</p>
<ul>
  <li> emLoadStatusLoading: Page is busy loading.</li>
  <li>emLoadStatusLoaded: Not Busy. Load succeded.</li>
  <li>emLoadStatusFailed: Not Busy. Load failed.</li>
  <li>emLoadStatusStopped: Not Busy. Load stopped by request from user/host app.</li>
  <li>emLoadStatusEmpty: Not Busy. Nothing loaded (for instance a newly created 
    widget).</li>
  <li>emLoadStatusUnknown: Unknown/other. Do not test on this, test on the values 
    which have specific meanings.<br>
  <P><strong>*** Added in EmBrowser 3.0</strong></P>
  </li>
  <li>emLoadStatusUploading: Busy performing upload.</li>
  <li>emLoadStatusCreated: Page is still busy loading. Document has been created and is available through a call on EmBrowserGetRootDocProc(). The JavaScript environment has been created. The normal status sequence is Loading, Created and finally Loaded.</li>
</ul>
<p><strong>EmThumbnailStatus</strong>: These represents return values from thumbnail 
  API functions. Is a subset of values corresponding directly to EmBrowserStatus.</p>
<ul>
  <li>emThumbnailNoErr: Same as emBrowserNoErr.</li>
  <li>emThumbnailOutOfMemoryErr: Same as emBrowserOutOfMemoryErr.</li>
  <li>emThumbnailGenericErr: Same as emBrowserGenericErr.</li>
</ul>
<p><b>EmBrowserStatus:</b> Return status for API functions.</p>
<ul>
  <li> emBrowserNoErr: No error.</li>
  <li>emBrowserOutOfMemoryErr: Out of Memory.</li>
  <li>emBrowserGenericErr: Generic Error.</li>
  <li>emBrowserParameterErr: Invalid parameter specified.</li>
</ul>
<p><b>EmJavascriptStatus:</b> JavaScript function return status closely corresponding 
  to EmBrowserStatus.</p>
<ul>
  <li>emJavascriptNoErr: Same as emBrowserNoErr.</li>
  <li>emJavascriptOutOfMemoryErr: Same as emBrowserOutOfMemoryErr.</li>
  <li>emJavascriptGenericErr: Same as emBrowserGenericErr.</li>
  <li>emJavascriptParameterErr: Same as emBrowserParameterErr.</li>
  <li>emJavascriptCompilationErr: JavaScript would not compile.</li>
  <li>emJavascriptExecutionErr: JavaScript would not execute.</li>
</ul>
<p><strong>EmMouseCursor:</strong> Self explanatory values corresponding to standard 
  mouse cursor shapes. </p>
<p><b>EmBrowserImageDisplayMode:</b> Mode indicating the level of image display 
  in the browser.</p>
<ul>
  <li> emBrowserImageDisplayNone: Image display turned off.</li>
  <li>emBrowserImageDisplayAll: All cached images displayed.</li>
  <li>emBrowserImageDisplayLoaded: Display both cached and non-cached images.</li>
</ul>
<p><b>EmBrowserOptions:</b> Browser startup options. Controls whether certain 
  facilities are turned on or off during browser start-up.</p>
<ul>
  <li> emBrowserOptionUseDefaults: Default behavior.</li>
  <li>emBrowserOptionSilent: Inhibit dialogs from coming up on URL load. This 
    prevents sheets and dialogs from coming up for cases in which the host application 
    has placed a browser window in an offscreen location.</li>
  <li>emBrowserOptionNoContextMenu: Disables context menus.</li>
  <li>emBrowserOptionDisableAppkeys: Disables application keys. (On Windows this will mean that Opera will not process WM_APPCOMMAND messages.)</li>
</ul>
<p><b>EmBrowserWindowOptions:</b></p>
<ul>
  <li> emBrowserWindowOptionUseDefaults: Make and activate the window.</li>
  <li>emBrowserWindowOptionBackground: Make the window behind the current window.<br>
  </li>
</ul>
<p><strong>EmBrowserURLOptions:</strong> Used to determine whether a page is fetched 
  or the browser cache can be used (default).</p>
<ul>
  <li> emBrowserURLOptionDefault: Default behavior.</li>
  <li>emBrowserURLOptionNoCache: Bypass the browser cache and fetch the entire 
    page.</li>
</ul>
<p><strong>EmBrowserInitParams: </strong>Control whether or not font enumeration 
  for all installed fonts is performed when Opera is started. (Introduced as a 
  result of very slow start-up discovered on certain computers with hundreds of 
  fonts installed.)</p>
<ul>
  <li>emBrowserInitDefault: Enumerate fonts.</li>
  <li>emBrowserInitNoFontEnumeration: Do not enumerate fonts.</li>
</ul>
<p><strong>EmOperaSearchOptions: </strong>Options for searching a browser page. 
  Mostly self-explanatory and correspond to typical options in a search dialog.</p>
<ul>
  <li> emOperaSearchOptionUseDefaults</li>
  <li>emOperaSearchOptionCaseSensitive</li>
  <li>emOperaSearchOptionEntireWord</li>
  <li>emOperaSearchOptionFindNext</li>
  <li>emOperaSearchOptionUpwards: Only used with find next. 
    <p><strong>*** Added in EmBrowser 3.0</strong> </p>
  </li>
  <li>emOperaSearchOptionWrapSearch: Wrap around.</li>
</ul>
<p><br>
  <strong>EmBrowserTextOptions: </strong>Used in the EmBrowserGetTextProc to determine 
  which text to retrieve for a given EmBrowserRef.</p>
<ul>
  <li> emBrowserURLText: Text of currently loaded/loading URL.</li>
  <li>emBrowserLoadStatusText: Load status text.</li>
  <li>emBrowserTitleText: Page title text.</li>
  <li>emBrowserMouseContextText: If the mouse is over a hyperlink, the text of 
    that URL. </li>
  <li>emBrowserCombinedStatusText: If the user is over hypertext then show URL 
    mouse context, if page is loading and the user in not over hypertext show 
    page loading status. (This imitates IE browser control behavior.)<br>
  </li>
</ul>
<p><strong>EmBrowserAppMessage:</strong> Notification messages informing the host 
  application what is taking place inside the browser component. These are sent 
  to the host application via the EmBrowserAppSimpleNotificationProc. All notifications 
  are on a EmBrowserRef basis (as opposed to the higher granularity of having 
  them on a per EmBrowserDoc basis.) This means that, </p>
<blockquote> 
  <p> <strong>Required: </strong>Host application must respond to the following 
    messages in order for Opera to behave properly.</p>
</blockquote>
<ul>
  <li>emBrowser_app_msg_edit_commands_changed: This indicates that EmBrowserCanHandleMessageProc 
    should be run and menu items on the edit menu in the host application should 
    be updated accordingly.</li>
  <li>emBrowser_app_msg_request_focus: Opera requesting keyboard focus as a result 
    of detected user action or user action required (such as an authentication 
    dialog appearing during a page load.) Host application responds by sending 
    TRUE to EmBrowserSetFocusProc or knowingly disables it by doing nothing.</li>
  <li> emBrowser_app_msg_going_away: Please remove all refs to the widget, it 
    is going away.<br>
    <p> <strong>Optional: </strong>Host application can ignore these messages 
      while still maintaining a reasonable level of browser function.</p>
  </li>
  <li>emBrowser_app_msg_status_text_changed: Fired when mouse is moved over a 
    link.</li>
  <li>emBrowser_app_msg_page_busy_changed: Fired when EmLoadStatus changed and 
    can be retrieved using EmBrowserGetPageBusyProc.</li>
  <li>emBrowser_app_msg_progress_changed: Fired when load progress text has been 
    changed and can be retrieved using EmBrowserGetTextProc.</li>
  <li>emBrowser_app_msg_url_changed: Fired when the URL has changed.</li>
  <li>emBrowser_app_msg_title_changed: Fired when the page title has changed.</li>
  <li>emBrowser_app_msg_security_changed: Fired when entering/exiting secure mode.</li>
  <li>emBrowser_app_msg_page_undisplay: Fired just before a page is unloaded.</li>
  <li>emBrowser_app_msg_phase_changed: Application has gone from uploading straight 
    to downloading or vice versa (less likely) without any &quot;loading stopped&quot;</li>
  <li>emBrowser_app_msg_request_close: For example a JavaScript Window close</li>
  <li>emBrowser_app_msg_request_activation: JavaScript initiated.</li>
  <li>emBrowser_app_msg_request_raise = 1302: JavaScript initiated. Move higher 
    in z-order.</li>
  <li>emBrowser_app_msg_request_lower = 1303: JavaScript initiated.Move lower 
    in z-order.</li>
  <li>emBrowser_app_msg_request_show = 1304: JavaScript initiated.</li>
  <li>emBrowser_app_msg_request_hide = 1305: JavaScript initiated.</li>
  <li> emBrowser_app_msg_content_type_unknown: Obsloete.</li>
  <li>emBrowser_app_msg_content_type_unsupported: Obsolete.</li>
  <li>emBrowser_app_msg_protocol_unsupported: Content unsupported and host application 
    can get the URL, and send it off to give another application or the OS a chance 
    at opening the content.</li>
</ul>
<p><br>
  <strong>EmBrowserMessage: </strong>Messages that the host application sends 
  to the browser.</p>
<ul>
  <li>emBrowser_msg_copy_cmd: Edit menu copy command, sent to the browser as it 
    currently has focus.</li>
  <li>emBrowser_msg_paste_cmd: Edit menu paste command, sent to the browser as 
    it currently has focus</li>
  <li>emBrowser_msg_cut_cmd: Edit menu cut command, sent to the browser as it 
    currently has focus.</li>
  <li>emBrowser_msg_clear_cmd: Edit menu clear command, sent to the browser as 
    it currently has focus.</li>
  <li>emBrowser_msg_select_all_cmd: Edit menu select all command, sent to the 
    browser as it currently has focus.</li>
  <li>emBrowser_msg_undo_cmd: Edit menu undo command, sent to the browser as it 
    currently has focus.</li>
  <li>emBrowser_msg_redo_cmd: Edit menu redo command, sent to the browser as it 
    currently has focus.</li>
  <li>emBrowser_msg_quit_cmd: This is used to find out if currently present modal 
    dialogs hinder the host application's ability to close the widget. It does 
    not perform an actual &quot;quit&quot; of the browser component.</li>
  <li>emBrowser_msg_back: Standard browser &quot;back&quot; command.</li>
  <li>emBrowser_msg_forward: Standard browser &quot;forward&quot; command.</li>
  <li>emBrowser_msg_reload: Standard browser &quot;reload&quot; command.</li>
  <li>emBrowser_msg_stop_loading: Standard browser &quot;stop&quot; command.</li>
  <li>emBrowser_msg_homepage: Standard browser &quot;back&quot; command.</li>
  <li>emBrowser_msg_searchpage: Internet search page defined by the operating 
    system. Not search in page.</li>
  <li>emBrowser_msg_has_document: Now a valid EmBrowserDoc has been associated 
    with an EmBrowserRef</li>
  <li>emBrowser_msg_clone_window</li>
  <li>emBrowser_msg_print: Print the browser page. Should bring up approprite 
    OS specific print dialog with options.</li>
</ul>
<h2 id="instance_apis">Browser Instance APIs</h2>
<p>All browser instance APIs take EmBrowserRef as the first input paramter, and 
  return EmBrowserStatus, unless otherwise specified. All APIs are EmBrowser 2.0 
  unless otherwise specified.</p>
<h3  id="br_creation"> Creation and Deletion</h3>
<p><strong>EmBrowserCreateProc</strong>: Creates an instance of the embedded browser.</p>
<ul>
  <li>Input: void pointer to screen port, EmBrowserOptions</li>
  <li>Output parameter: The newly created EmBrowserRef</li>
</ul>
<p><strong>EmBrowserInitLibraryProc:</strong> Initialize and start the embedded 
  browser.</p>
<ul>
  <li>Input: EmBrowserInitParameterBlock</li>
</ul>
<p><strong>EmBrowserShutdown: </strong>Releases all global structures, stops network 
  activity and unregisters system callbacks.</p>
<p><strong>EmBrowserDestroyProc</strong>: Destroys an instance of the embedded 
  browser.</p>
<h3 id="br_screen_port">Screen Port Management</h3>
<p><strong>EmBrowserSetPortLocationProc:</strong> Setting where Opera can draw 
  in the window.</p>
<ul>
  <li>Input: EmBrowserRect, void pointer to platform-specific window type.</li>
</ul>
<p><strong>EmBrowserGetPortLocationProc:</strong> Getting where Opera can draw 
  in the window.</p>
<ul>
  <li>Input/Output: Pointer to EmBrowserRect.</li>
</ul>
<p><strong>EmSetVisibilityProc:</strong> Setting whether Opera is visible or not. 
  Opera should be set to invisible when it is not needed and/or when the host 
  application is placed in the background.</p>
<ul>
  <li>Input: Boolean for visible.</li>
</ul>
<p><strong>EmGetVisibilityProc:</strong> Query Opera as to visibility status.</p>
<ul>
  <li>Output: Boolean for current visibility state.</li>
</ul>
<p><strong>EmBrowserScrollToSelectionProc:</strong> Scroll the browser to currently 
  selected text. Has no effect if no text is selected.</p>
<h3 id="br_navigation">Basic Navigation</h3>
<p><strong>EmBrowserOpenURLProc:</strong> Open URL in browser. Note: EmBrowserURLOptions 
  parameter added in API version 2.0</p>
<ul>
  <li>Input: EmBrowserString containing the URL, and EmBrowserURLOptions.</li>
</ul>
<h3 id="br_properties">Properties</h3>
<p><strong>EmBrowserGetDLProgressNumsProc:</strong> Get download progress numbers.</p>
<ul>
  <li>Output: Long size of the page remaining to be downloaded. -1 if the total 
    size is unknown at the current stage. Long size of the page being downloaded. 
    -1 if the size is unknown at the current stage.</li>
</ul>
<p> <strong>EmBrowserGetPageBusyProc:</strong> Returns the current load status.</p>
<ul>
  <li>Output: EmLoadStatus</li>
</ul>
<p><strong>EmBrowserGetSecurityDescProc:</strong> Returns the current security 
  level on the page.</p>
<ul>
  <li>Output: Boolean indicating if security is on or off, a long buffersize, 
    and an EmBrowserString containing the description of active security.</li>
</ul>
<p><strong>EmBrowserGetTextProc:</strong> Get various text strings from the browser.</p>
<ul>
  <li>Input: EmBrowserTextOptions, long buffer size.</li>
  <li>Output: EmBrowserString and long text length.</li>
</ul>
<h3 id="br_command">Command Messages</h3>
<p><strong>EmBrowserCanHandleMessageProc:</strong> Query Opera to see if a message 
  is currently available.</p>
<ul>
  <li>Input: EmBrowserMessage</li>
</ul>
<p><strong>EmBrowserDoHandleMessageProc: </strong>Send a command message to Opera.</p>
<ul>
  <li>Input: EmBrowserMessage.</li>
</ul>
<h3  id="br_misc"> Miscellaneous</h3>
<p><strong>EmBrowserDrawProc:</strong> Force the Widget to draw itself. Only needed 
  in special circumstances, as the widget is a self-drawing.</p>
<ul>
  <li>Input: EmBrowserRect containing the region to update.</li>
</ul>
<p><strong>EmBrowserSetActiveProc:</strong> Inform the EmBrowser that it has become 
  active, to activate forms controls, scrollbars or inactive to deactivate.</p>
<ul>
  <li>Input: Boolean indicating active/inactive.</li>
</ul>
<p><strong>EmBrowserSetFocusProc:</strong> Inform the EmBrowser that it has received 
  or lost keyboard focus.</p>
<ul>
  <li>Input: Boolean indicating focus lost/gained.</li>
</ul>
<p><strong>EmBrowserSetZoomProc:</strong> Set zoom factor for EmBrowser, in per 
  cent.</p>
<ul>
  <li>Input: long zoom factor.</li>
</ul>
<p><strong>EmBrowserSetFallbackEncodingProc:</strong> Set default encoding, will 
  be used if document doesn't supply an encoding.</p>
<ul>
  <li>Input: EmBrowserString containing encoding.</li>
</ul>
<p><strong>EmBrowserSetUserStylesheetProc:</strong> Set the user stylesheet. Pass 
  NULL to stop using custom stylesheet. Note: This API should take an EmBrowserRef 
  as a first parameter, but it does not.</p>
<ul>
  <li>Input: EmBrowserString containing the path to the file containing the stylesheet. 
    This path is specified in platform specific manner.<br>
  </li>
</ul>
<p><strong>*** APIs below added in EmBrowser 3.0 </strong></p>
<p> <strong>EmBrowserSetUILanguage: </strong>Set user interface language, otherwise 
  it will default to the english.lng in the directory in which opera is located</p>
<ul>
  <li>Input: EmBrowserString containing the full path to the language file. </li>
  <li>Remark: The language files can be placed anywhere on the system, including
      inside a bundle on Mac OS. </li>
  <li>Fallback: To return to the default English language you need to specify the full
      path to that file as well. </li>
</ul>
<p><strong>EmBrowserForceEncodingProc</strong>: Force encoding. This encoding 
  _will_ be used in subsequent loads in the window.</p>
<ul>
  <li>Input: EmBrowserString containing encoding.</li>
</ul>
<p> <strong>EmBrowserSetSoundProc:</strong> Enable or disable sounds in browser 
  and page.</p>
<ul>
  <li>Input: Boolean to enable/disable sound on web pages.</li>
</ul>
<p><strong>EmBrowserGetZoomProc: </strong>Get zoom factor for EmBrowser, in per 
  cent</p>
<ul>
  <li>Output: Long containing zoom factor.</li>
</ul>
<p><strong>EmBrowserSetBrowserStylesheetProc: </strong>Set the browser stylesheet.</p>
<ul>
  <li>Input: EmBrowserString containint style sheet path in platform format.</li>
</ul>
<p><br>
  <strong>EmBrowserGetAltStylesheetCountProc: </strong>Get number of alternate 
  stylesheets.<br>
</p>
<p> <strong>EmBrowserGetAltStylesheetTitleProc:</strong> Get alternate stylesheet 
  title.</p>
<ul>
  <li>Input: Long containing index, and long containing buffersize.</li>
  <li>Output: EmBrowserString containing at text buffer.</li>
</ul>
<p><strong>EmBrowserEnableAltStylesheetProc:</strong> Get alternate stylesheet 
  title.</p>
<ul>
  <li> Input: EmBrowserString containing title.</li>
</ul>
<p><br>
  <strong>EmBrowserGetContentSizeProc: </strong>Get the width &amp; height of 
  the document (not the view).</p>
<ul>
  <li>Input: Longs containing width and height.</li>
</ul>
<p><strong>EmBrowserGetScrollPosition: </strong>Get the the scroll position of 
  the document</p>
<ul>
  <li>Input: Longs containing x and y coordinates. </li>
</ul>
<p><strong>EmBrowserSetScrollPosition:</strong> Scroll document to given position.</p>
<ul>
  <li>Input: Longs containing x and y coordinates.<br>
  </li>
</ul>
<h2>Document Instance APIs </h2>
<p>All document instance APIs take EmDocumentRef as the first input paramter, 
  and return EmBrowserStatus, unless otherwise specified. All APIs are EmBrowser 
  2.0 unless otherwise specified.</p>
<p><strong>EmBrowserOpenURLinDocProc: </strong>Opens a URL in the given document 
  on a page, essentially re-targeting a frameset.</p>
<ul>
  <li>Input: EmBrowserString containing the URL and EmBrowserURLOptions.</li>
</ul>
<p> <strong>EmBrowserGetSourceSizeProc: </strong>Get the size that will need to 
  be allocated by the host for HTML source. Used in conjunction with EmBrowserGetSourceProc.</p>
<ul>
  <li>Output: A long containing buffer size to allocate.</li>
</ul>
<p> <strong>EmBrowserGetSourceProc: </strong>Get the HTML source for the page. 
  Only works after the page is finished loading.</p>
<ul>
  <li>Input: long containing buffer size, and an EmBrowserString containing the 
    text buffer. </li>
</ul>
<p><strong>EmBrowserGetRootDocProc:</strong> Get root document for a given EmBrowserRef. 
  Used in frameset traversal.</p>
<ul>
  <li>Output: EmDocumentRef of the root document object.</li>
</ul>
<p><strong>EmBrowserGetURLProc: </strong>Get URL for a given document. Note: textLength 
  parameter added in API version 2.0</p>
<ul>
  <li>Input: Long containing buffer size allocated.</li>
  <li>Output: EmBrowserString containing the URL, and a long containing the actual 
    buffersize. </li>
</ul>
<p><strong>EmBrowserGetNumberOfSubDocumentsProc:</strong> Get Number of sub-documents 
  for a given document. Zero means document is not a frameset. Used in conjunction 
  with EmBrowserGetSubDocuments for finding out how large of an array to allocate.</p>
<ul>
  <li>Return value: Long containing number of sub-documents.</li>
</ul>
<p><strong>EmBrowserGetParentDocumentProc:</strong> Get parent for a given document. 
  Null means this document is at the top of the structure.</p>
<ul>
  <li>Output: EmDocumentRef containing the parent document object if one exists.</li>
</ul>
<p><strong>EmBrowserGetBrowserProc:</strong> Get EmBrowserRef in which a given 
  document is contained.</p>
<ul>
  <li>Output: EmBrowserRef.</li>
</ul>
<p><strong>EmBrowserGetSubDocumentsProc:</strong> Get all sub-documents and coordinates 
  for a given document. Zero means document is not a frameset.</p>
<ul>
  <li>Input: Long containing the number of documents.</li>
  <li>Output: A pointer to an array of EmDocumentRefs and a pointer to an array 
    of EmBrowserRects. </li>
</ul>
<p>&nbsp;</p>
<p><strong>*** APIs below added in EmBrowser 3.0 </strong></p>
<p><strong>EmBrowserGetDocumentTitleProc:</strong> Get title of document.</p>
<ul>
  <li>Input: Long containing buffer size.</li>
  <li>Output: EmBrowserString conaining the text buffer and a long containing 
    the buffer size.</li>
</ul>
<h2 id="notifications">Notifications</h2>
<p>These methods are callbacks from Opera into the host application. All have 
  EmBrowserRef as the first parameter. In the case of callbacks, &quot;input&quot; 
  parameters are going <strong>to</strong> the host application and &quot;output&quot; 
  parameters are manipulated by the host application before returning and allowing 
  Opera to continue executing. Function pointers to the desired callbacks must 
  be defined by the host application and placed in the EmBrowserAppNotification 
  structure.</p>
<p>NOTE: During a callback, never call back into Opera unless it is a &quot;get&quot; 
  function. Get functions are the only functions that can be guaranteed to work 
  from a callback. All others should be avoided.</p>
<p><strong>EmBrowserAppSimpleNotificationProc:</strong> General purpose Opera 
  notifying the host application using messages.<br>
  Input: EmBrowserAppMessage.<br>
  <br>
  <strong>EmBrowserAppBeforeNavigationProc:</strong> Hook for before loading the 
  URL.</p>
<ul>
  <li>Input: EmBrowserString containing the original destination URL.</li>
  <li>Output: EmBrowserString containing the new URL overridden by the host application. 
    Note: The size of this set to be EmBrowserChar[4096], or 8k. (Adding an additional 
    size parameter was not done to preserve backwards compatibility.)</li>
  <li>Return: True if host application wants the URL to load, false if host application 
    wants to stop the URL load. </li>
</ul>
<p> <strong>EmBrowserAppRequestNewBrowserProc:</strong> Ask host to create a new 
  browser.</p>
<ul>
  <li>Input: EmBrowserOptions,EmBrowserWindowOptions,EmBrowserRect containing 
    location and bounds(width and height is size, top and left is window position), 
    EmBrowserString containing destination URL.</li>
  <li>Output: EmBrowserRef newly created by the host application.</li>
</ul>
<p><strong>EmBrowserAppHandleUnknownProtocolProc:</strong> Handle protocols not 
  supported by Opera such as news and mail. Optional, if not implemented, the 
  browser will send an message to the Operating system to attempt to open an appropriate 
  application.</p>
<ul>
  <li> Input: EmBrowserString containng the URL.</li>
</ul>
<p><strong>EmBrowserAppRequestSetPositionProc:</strong> Asks the host application 
  to move the window to the given coords. Return non-zero if successful. JavaScript 
  is allowed to re-size browser windows. This gives the host application the opportunity 
  to decide whether or not to allow this to take place. Return non-zero if successful.</p>
<ul>
  <li>Input: Longs containing x and y coordinates.</li>
</ul>
<p><strong>EmBrowserAppRequestSetSizeProc:</strong> Asks the host application 
  to resize the widget to the given size. Return non-zero if successful.</p>
<ul>
  <li>Input: Longs containing width and height.</li>
</ul>
<p>&nbsp;</p>
<p><strong>*** APIs below added in EmBrowser 3.0 </strong></p>
<p><br>
  <strong>EmBrowserAppJavascriptNotificationProc</strong>: Hook for before executing 
  Javascript.</p>
<ul>
  <li>Input: EmDocumentRef .</li>
</ul>
<p><br>
  <strong>EmBrowserAppAfterNavigationProc: </strong>Hook for after navigation.</p>
<ul>
  <li>Input: EmDocumentRef .</li>
</ul>
<p><strong>EmBrowserAppRequestSetCursorProc: </strong>Hook for setting the mouse 
  cursor. Optional, if not implemented the widget will set all cursors.</p>
<ul>
  <li>Input: EmDocumentRef .</li>
</ul>
  <strong>EmBrowserAppAllowLocalFileURLProc:</strong> Hook for allowing the loading of a local file  
  URL referred from within a document fetched from a server. 
  Loading of local files referred from within a server document is normally not allowed because of security reasons.</p>
<ul>
  <li>Input: EmBrowserString parameters containing the document URL and the local file url referred from within the document.</li>
  <li>Return: True if host application wants the local file URL to load, false if host application 
    wants to avoid the local file URL load. </li>
</ul>
<p>&nbsp;</p>
<h2 id="misc_apis">Miscellaneous APIs</h2>
<p>EmBrowserSearchInActiveDocumentProc: Search in document<br>
  typedef EmBrowserStatus (*EmBrowserSearchInActiveDocumentProc)(IN EmBrowserRef 
  inst, IN const EmBrowserString pattern, EmOperaSearchOptions options);<br>
  <br>
  EmBrowserSetFallbackEncodingProc: Set default encoding, will be used if document 
  doesn't supply an encoding.<br>
  typedef EmBrowserStatus (*EmBrowserSetFallbackEncodingProc)(IN const EmBrowserString 
  encoding); </p>
<h3 id="misc_memory">Memory Allocation</h3>
<p>These functions were introduced for the primitive memory handling on MacOS 
  9 and are only present for backwards compatibility only. The function pointers 
  are defined by the host application in the InitParamaterBlock, otherwise, Opera 
  uses standard OS memory allocation.</p>
<p><strong>AppMallocProc:</strong> Opera allocates memory via the host application.</p>
<ul>
  <li>Input: Size of block to be allocated</li>
  <li>Output: Void pointer to allocated block.</li>
</ul>
<p><br>
  <strong>AppFreeProc:</strong> Opera frees memory via the host application.</p>
<ul>
  <li>Input: Void pointer to block to be de-allocated.</li>
  <li>Output: void.</li>
</ul>
<p><strong>AppReallocProc:</strong> Opera re-allocates memory via the host application.</p>
<ul>
  <li>Input: Void pointer of block to be re-allocated, long containing new size.</li>
  <li>Output: void.</li>
</ul>
<h2 id="misc_apis_30">Miscellaneous APIs - Added in EmBrowser 3.0</h2>
<h3 id="misc_cookies">Cookies</h3>
<p><strong>EmBrowserGetCookieListProc:</strong> Return list of cookies in the 
  document.</p>
<ul>
  <li> Output: EmCookieRef</li>
</ul>
<p> <strong>EmBrowserGetCookieCountProc:</strong> Return the number of cookies 
  registered for the document</p>
<ul>
  <li>Input: EmBrowserString containing domain and an EmBrowserString conaining 
    the path. </li>
</ul>
<p> <strong>EmBrowserGetCookieNameProc:</strong> Get the name of the cookie.</p>
<ul>
  <li> Input: EmCookieRef ref and a long containing the allocated buffer size.</li>
  <li>Output: An EmBrowserString containing the text buffer and a long containing 
    actual buffer size.</li>
</ul>
<p><strong>EmBrowserGetCookieValueProc:</strong> Get the value of the cookie.</p>
<ul>
  <li> Input: EmCookieRef ref and a long containing the allocated buffer size.</li>
  <li>Output: An EmBrowserString containing the text buffer and a long containing 
    actual buffer size.</li>
</ul>
<p><strong>EmBrowserGetCookieExpiryProc:</strong> Get the expiry time of the cookie.</p>
<ul>
  <li> Input: EmCookieRef ref.</li>
  <li>Returns: A long containing the expiry time.</li>
</ul>
<p><strong>EmBrowserGetCookieDomainProc:</strong> Get the domain of the cookie.</p>
<ul>
  <li> Input: EmCookieRef ref and a long containing the allocated buffer size.</li>
  <li>Output: An EmBrowserString containing the text buffer and a long containing 
    actual buffer size.</li>
</ul>
<p><strong>EmBrowserGetCookiePathProc:</strong> Get the path of the cookie.</p>
<ul>
  <li> Input: EmCookieRef ref and a long containing the allocated buffer size.</li>
  <li>Output: An EmBrowserString containing the text buffer and a long containing 
    actual buffer size.</li>
</ul>
<p><strong>EmBrowserGetCookieSecurityProc</strong>: Get the security state of 
  the cookie. Return nonzero if cookie is secure.</p>
<ul>
  <li> Input: EmCookieRef ref .</li>
  <li>Returns: A long containing the expiry time.</li>
</ul>
<p><strong>EmBrowserSetCookieRequestProc:</strong> Set a cookie. Fill in entire 
  request: name, value and attributes.</p>
<ul>
  <li> Input: EmDocumentRef , an EmBrowserString containing path and an EmBrowserString.</li>
</ul>
<p><strong>EmBrowserSetCookieValueProc: </strong>Set a cookie value. The request: 
  name and attributes are subtracted from existing cookie.</p>
<ul>
  <li>Input: An EmDocumentRef , an EmCookieRef ref and an EmBrowserString containing 
    the value.<br>
  </li>
</ul>
<h3 id="misc_history">History</h3>
<p> <strong>EmBrowserGetHistoryListProc:</strong> Return the list of items in 
  the current session's history.</p>
<ul>
  <li>Input: EmBrowserRef</li>
  <li>Output: EmHistoryRef array<br>
  </li>
</ul>
<p> <strong>EmBrowserGetHistorySizeProc:</strong> Return the number of items in 
  the current session's history.</p>
<ul>
  <li>Input: EmBrowserRef.</li>
  <li>Output: Long number of items.</li>
</ul>
<p><strong>EmBrowserGetHistoryIndexProc:</strong> Return the index of the current 
  position in the history list.</p>
<ul>
  <li>Input: EmBrowserRef.</li>
  <li>Output: Long index number.</li>
</ul>
<p><strong>EmBrowserSetHistoryIndexProc:</strong> Set the index of the current 
  position in the history list.</p>
<ul>
  <li>Input: EmBrowserRef, long index number.</li>
</ul>
<p><strong>EmBrowserRemoveH</strong><strong>istoryItemProc: </strong>Remove an 
  item from the history list.</p>
<ul>
  <li>Input: EmBrowserRef, long containing an index.<br>
  </li>
</ul>
<p><strong>EmBrowserInsertHistoryItemProc:</strong> Insert an item in the history 
  list.</p>
<ul>
  <li>Input: EmBrowserRef, long containing an index, and EmHistoryRef.<br>
  </li>
</ul>
<p><strong>EmBrowserAppendHistoryItemProc: </strong>Append an item to the history 
  list.</p>
<ul>
  <li> Input: EmBrowserRef and an EmHistoryRef.<br>
  </li>
</ul>
<p><strong>EmBrowserAppendHistoryItemProc:</strong> Get title of the history item.</p>
<ul>
  <li>Input: EmHistoryRef, a long containing buffer size.</li>
  <li> Output: An EmBrowserString containing a text buffer, and a long containing 
    the length.<br>
  </li>
</ul>
<p><strong>EmBrowserGetHistoryItemURLProc:</strong> Get url of the history item.</p>
<ul>
  <li>Input: EmHistoryRef, a long containing buffer size.</li>
  <li> Output: An EmBrowserString containing a text buffer, and a long containing 
    the length.</li>
</ul>
<p><strong>EmBrowserRemoveAllHistoryItemsProc:</strong> Remove all items from 
  the history list.</p>
<ul>
  <li>Input: An EmBrowserRef.</li>
</ul>
<h3 id="misc_javascript"> Javascript</h3>
<p><br>
  <strong>EmBrowserJSResultProc: </strong>Notification of the result of a javascript 
  operation.</p>
<ul>
  <li>Input: Void pointer containing clientData an EmJavascriptStatus status and 
    an EmJavaScriptValue.</li>
</ul>
<p><strong>EmBrowserJSEvaluateCodeProc:</strong> Evaluate a string of JavaScript 
  code in a document.</p>
<ul>
  <li>Input: An EmDocumentRef doc, EmBrowserString containing code, an EmBrowserJSResultProc 
    callback, and a void pointer to client data.</li>
</ul>
<p><br>
  <strong>EmBrowserJSGetPropertyProc:</strong> Read the value of a property of 
  an object.<br>
  typedef EmJavascriptStatus (*EmBrowserJSGetPropertyProc)(IN EmDocumentRef doc, 
  IN EmJavascriptObjectRef object, IN EmBrowserString propertyName,<br>
  IN EmBrowserJSResultProc callback /* can be NULL */, IN void *callbackClientData 
  /* can be NULL */);<br>
  <br>
  <strong>EmBrowserJSSetPropertyProc:</strong> Write a value to a property of 
  an object.</p>
<ul>
  <li>Input: An EmDocumentRef, EmJavascriptObjectRef , EmBrowserString containing 
    a property name, an EmJavascriptValue *value, an EmBrowserJSResultProc callback 
    and a void pointer to callback client data.</li>
</ul>
<p><strong>EmBrowserJSCallMethodProc: </strong>Call a method on an object.</p>
<ul>
  <li>Input: An EmDocumentRef, EmJavascriptObjectRef, an EmBrowserString containing 
    the method name, an unsigned containing a count of arguments, an EmJavaScriptValue 
    array containg the arguments, an EmBrowserJSResultProc callback, and a void 
    pointer to callback client data.</li>
</ul>
<p><strong>EmBrowserJSProtectObjectProc</strong>: Protect a javascript object 
  (increasing its reference count by one).</p>
<ul>
  <li>Input: An EmJavascriptObjectRef object</li>
</ul>
<p><strong>EmBrowserJSUnprotectObjectProc:</strong> Unprotect a javascript object 
  (decreasing its reference count by one).</p>
<ul>
  <li>Input: An EmJavascriptObjectRef object</li>
</ul>
<p><strong>EmBrowserJSMethodCallProc:</strong> Hook for function call to functions 
  created with EmBrowserJSCreateMethodProc.</p>
<ul>
  <li>Input:Void pointer to client data, an EmDocumentRef, an EmJavascriptObjectRef, 
    an unsigned containing an arguments count, and an EmJavascriptValue array 
    containing arguments. </li>
  <li>Output: EmJavascriptValue *returnValue);</li>
</ul>
<p><strong>EmBrowserJSCreateMethodProc:</strong> Create a method.<br>
  Input: An EmDocumentRef an EmJavascriptObjectRef, an EmBrowserJSMethodCallProc, 
  and a void pointer to callback client data</p>
<h3>Thumbnail</h3>
<p><strong>EmBrowserThumbnailResultProc:</strong> Notification of the result of 
  a thumbnail operation.</p>
<ul>
  <li>Input: A void pointer to the image data, an EmThumbnailStatus status, and 
    an EmThumbnailRef.</li>
</ul>
<p><strong>EmBrowserThumbnailRequestProc:</strong> Request creation of a thumbnail 
  of a web page.</p>
<ul>
  <li> Input: An EmBrowserString containing the URL, longs containing width, height 
    and scale, and an EmBrowserThumbnailResultProc callback.</li>
  <li>Output: An EmThumbnailRef.</li>
</ul>
<p><strong>EmBrowserThumbnailKillProc:</strong> Kill a thumbnail request (when 
  you do not want more updates).</p>
<ul>
  <li>Input: EmThumbnailRef.</li>
</ul>
<h3 id="misc_plugin">Plugin</h3>
<p>
  <strong>EmBrowserUsePluginPathProc: </strong>Use plugin path</p>
<ul>
  <li>Input: An EmBrowserRef and an EmBrowserString containing the plug-in path.</li>
</ul>
<H3 id="misc_properties">Properties</H3>
<p><strong>EmBrowserGetULProgressProc:</strong> Get upload progress numbers.</p>
<ul>
  <li>Input: EmBrowserRef inst, </li>
  <li>Output: Longs containing the number of bytes that has been uploaded, and 
    the size of the page being uploaded. -1 if the size is unknown at the current 
    stage</li>
</ul>
<p> <strong>EmBrowserGetDLProgressProc: </strong>Get download progress numbers. 
  Modified interface.</p>
<ul>
  <li>Input: EmBrowserRef inst</li>
  <li>Output: Longs containing he number of bytes that has been downloaded, and 
    the size of the page being downloaded. -1 if the size is unknown at the current 
    stage</li>
</ul>
<h3 id="misc_image">Image Display</h3>
<p><strong>EmBrowserSetImageDisplay: </strong>Set the image display mode.</p>
<ul>
  <li>Input: EmBrowserRef and an EmBrowserImageDisplayMode.</li>
</ul>
<div class="code">
enum
{
emBrowserImageDisplayNone = 0,
emBrowserImageDisplayAll = 1,
emBrowserImageDisplayLoaded = 2
};
typedef long EmBrowserImageDisplayMode;
</div>

<P><BR>Where <B>emBrowserImageDisplayNone</B> will supress all images, <B>emBrowserImageDisplayAll</B> will show all images and <B>emBrowserImageDisplayLoaded</B> will only show images that is in cache.</P>
<P><BR>
<strong>EmBrowserGetImageDisplay: </strong>Get the image display mode.</P>
<ul>
  <li>Input: EmBrowserRef.</li>
  <li>Output: EmBrowserImageDisplayMode.</li>
</ul>
<h3 id="misc_visibility">Visibility of visited links</h3>
<p><strong>EmBrowserSetVisLinksProc:</strong> Disable or enable the visibility 
  of visited links</p>
<ul>
  <li> Input: A boolean flag for turning visibility on or off.</li>
</ul>
<H2 id="misc_additions">Miscellaneous</H2>
<H3 id="misc_proxyservers">Proxy servers</H3>
<P>Proxy servers are configured in the settings file, operadef6.ini (for more
information look at <A href="#win_dist">profiles</A>), like this:</P>
<div class="code">
[Proxy]
Use HTTP=1
Use HTTPS=1
Use FTP=1
Use GOPHER=0
Use WAIS=0
Use Automatic Proxy Configuration=0
HTTPS Server=https.proxy.server:1080
FTP Server=ftp.proxy.server:1080
Gopher Server=gopher.proxy.server:1080
WAIS Server=wais.proxy.server:1080
Automatic Proxy Configuration URL=automatic.proxy.configuration.url
Enable HTTP 1.1 for proxy=0
No Proxy Servers=*.opera.com,*.support.opera.com
No Proxy Servers Check=1
HTTP Server=http.proxy.server:1080
</div>

<table class="tablecontent" summary="Files in Opera">
<caption>[Proxy]</caption>
  <tr>
    <th>Entry:</th>
    <th>Description:</th>
    </tr>
  <tr>
    <td>Use HTTP=1</td>
    <td>Flag for using HTTP-proxy. Is integer with default TRUE</td>
    </tr>
  <tr>
    <td>Use HTTPS=0</td>
    <td>Flag for setting HTTPS-proxy active. Is write only integer</td>
  </tr>
  <tr>
    <td>Use FTP=1</td>
    <td>Is integer with default TRUE</td>
  </tr>
  <tr>
    <td>Use Gopher=1</td>
    <td>Flag for using Gopher-proxy. Is integer with default &quot;&quot;</td>
  </tr>
  <tr>
    <td>Use WAIS=1</td>
    <td>Flag  for setting WAIS-proxy active. Is integer with default TRUE</td>
  </tr>
  <tr>
    <td>HTTP Server=</td>
    <td>Is string with default &quot;&quot; port number is after : ie. proxy.com:1081</td>
  </tr>
  <tr>
    <td>HTTPS Server=</td>
    <td>Is string with default &quot;&quot; port number is after : ie. proxy.com:1081</td>
  </tr>
  <tr>
    <td>FTP Server=</td>
    <td>FTP proxy server. Is string with default &quot;&quot; port number is after
      : ie. proxy.com:1081</td>
  </tr>
  <tr>
    <td>Gopher Server=</td>
    <td>Gopher server. String with default &quot;&quot; port number set after :      ie. proxy.com:1081</td></tr>
  <tr>
    <td>WAIS Server=</td>
    <td>Address of WAIS server. Is string with default &quot;&quot;</td>
  </tr>
  <tr>
    <td>No PROXY Servers=</td>
    <td>List of server to not go through server, comma separated.<br/>
        Is string with default &quot;&quot;</td>
  </tr>
  <tr>
    <td>No PROXY Servers Check=1</td>
    <td>Enable list of no proxy list.<br/>
        Is integer with default TRUE</td>
  </tr>
  <tr>
    <td>Proxy Complete Failure Retry Time</td>
    <td>Dependant on unimplemented code, auto proxy configuration.<br/>
        Is integer with default 0.</td>
    </tr>
  <tr>
    <td>Proxy FallBackPolicy </td>
    <td>Dependant on unimplemented code, auto proxy  configuration.<br/>
        Is integer with default 0</td>
    </tr>
  <tr>
    <td>Proxy Single Failure Retry Time</td>
    <td>Dependant on unimplemented code, auto proxy  configuration.<br/>
        Is integer with default 0</td>
    </tr>
  <tr>
    <td>Proxy TimeOut</td>
    <td>Dependant on unimplemented code, auto proxy  configuration.<br/>
        Is integer with default 0</td>
    </tr>
  <tr>
    <td>Use FTP</td>
    <td>Flag for using FTP-proxy.<br/>
        Is write only integer.</td>
    </tr>
  <tr>
    <td>Use Proxy On Local Names Check</td>
    <td>Flag for accessing local machines through proxy.<br/>
        Is integer with default FALSE</td>
    </tr>
</table>
<P>If proxy configuration is omitted from the settings file the system settings
are used as fallback proxy configuration.</P>
<P>For more details on proxy server settings read <A href="http://www.opera.com/support/usingopera/operaini/#proxy">this page</A> on Opera's support pages.</P>
<H3 id="misc_cache">Cache</H3>
<P>As with proxy servers the cache directory and settings will follow the
embrowser component, and is configurable via the settings file operadef6.ini.</P>

<div class="code">
[User Prefs]
Turbo Mode=1
Max Direct History Lines=200
Max Global History Lines=500
Automatic RAM Cache=1
Cache Directory4=%ProfileDir%\Cache4

[Cache]
Document=2000
Figure=2000
Cache Docs=1
Cache Figs=1
Always Check Redirect Images=0
Always Check Redirect=0

[Disk Cache]
Size=10000
Docs Exp Days=0
Docs Exp Hours=0
Docs Exp Minutes=5
Figs Exp Days=0
Figs Exp Hours=5
Figs Exp Minutes=0
Other Exp Days=0
Other Exp Hours=5
Other Exp Minutes=0
Docs Modification=2
Figs Modification=2
Other Modification=2
</div>

<table class="tablecontent" summary="Files in Opera">
<caption>[Cache]</caption>
  <tr>
    <th>Entry:</th>
    <th>Description:</th>
    <th>configure from UI:</th>
  </tr>
  <tr>
    <td>Document=2000</td>
    <td>Size of document cache, in kB.<br/>
        Is integer with default 500</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Figure=2000</td>
    <td>Size of image cache.<br/>
        Is integer with default 500</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Cache Docs=1</td>
    <td>Cache flag for documents. (Is documented in detail, standard Help).<br/>
        Is integer with default TRUE</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Cache Figs=1</td>
    <td>Cache flag for images. (Is documented in detail, standard help).<br/>
        Is integer with default TRUE</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Always Check Redirect=0</td>
    <td>Always check redirect on documents. (Is documented in standard Help).<br/>
        Is integer with default TRUE</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Always Check Redirect Images=0</td>
    <td>Always check redirect on images. (Is documented in standard Help.)<br/>
        Is integer with default TRUE</td>
    <td>Preferences &gt; History and Cache</td>
  </tr>
</table>

<table class="tablecontent" summary="Files in Opera">
<caption>[Disk Cache]</caption>
  <tr>
    <th>Entry:</th>
    <th>Description:</th>
    <th>configure from UI:</th>
  </tr>
  <tr>
    <td>Size H=0</td>
    <td>Used  for calculating the size of disk cache larger than 64k. (size h*64k).<br/>
        Is integer with default 0</td>
    <td>no</td>
  </tr>
  <tr>
    <td>Cache Docs=1</td>
    <td>Flag for disk cache, documents. Is integer with default TRUE</td>
    <td >All entries: Preferences &gt; History and Cache</td>
  </tr>
  <tr>
    <td>Cache Figs=1</td>
    <td> Flag for disk image caching. Is integer with default TRUE</td>
  </tr>
  <tr>
    <td>Cache Other=1</td>
    <td>Flag for disk cache for other content. Is integer with default TRUE</td>
  </tr>
  <tr>
    <td>Empty On Exit=0</td>
    <td> Flag for empty cache on exit. Is integer with default FALSE</td>
  </tr>
  <tr>
    <td>Docs Exp Days=0</td>
    <td>Cache expire time for documents. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Docs Exp Hours=5</td>
    <td>Cache expire time for documents. Is integer with default 5</td>
  </tr>
  <tr>
    <td>Docs Exp Minutes=0</td>
    <td>Cache expire time for documents. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Figs Exp Days=1</td>
    <td>Expire images in cache, day value. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Figs Exp Hours=0</td>
    <td>Expire images in cache, hour value. Is integer with default 5</td>
  </tr>
  <tr>
    <td>Figs Exp Minutes=0</td>
    <td>Expire images in cache, minutes value. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Other Exp Days=5</td>
    <td>Expire other in cache, days value. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Other Exp Hours=5</td>
    <td>Expire other in cache, hour value. Is integer with default 5</td>
  </tr>
  <tr>
    <td>Other Exp Minutes=0</td>
    <td>Expire other in cache, minutes value. Is integer with default 0</td>
  </tr>
  <tr>
    <td>Size=6000</td>
    <td>is integer with default 2000. Disk cache size in kilobytes.</td>
  </tr>
  <tr>
    <td>Docs Modification=0</td>
    <td>Check for modication flag. Is integer with default TIME.<br/>
        ALWAYS 0<br/>
        NEVER 1<br/>
        TIME 2</td>
  </tr>
  <tr>
    <td>Figs Modification=0</td>
    <td>Check for modication flag. Is integer with default TIME.<br/>
        ALWAYS 0<br/>
        NEVER 1<br/>
        TIME 2</td>
  </tr>
  <tr>
    <td>Other Modification=0</td>
    <td>Check for modication flag. Is integer with default TIME.<br/>
        ALWAYS 0<br/>
        NEVER 1<br/>
        TIME 2</td>
  </tr>
</table>


<P>Automatic Ram Cache will use 10% of the physical memory size for ram cache.</P>
<P>For more details on cache settings see <A href="http://www.opera.com/support/usingopera/operaini/#cache">Opera's support pages</A></P>
<H3 id="adding_plugins">Adding plug-ins</H3>
<P>Opera scans the plugin directories specified in the opera.ini file on startup
and registers new ones, if any:</P>
<PRE>[User Prefs]
Plugin Path=Plugins;Program\Plugins</PRE>
<P>Plugin Path can contain absolute or relative, to the location of Opera.dll,
directories.</P>
<P>To use plugins in the Embrowser component you can also supply the library
with a plugin path via <strong>EmBrowserUsePluginPathProc</strong> that contain the plugin(s) you want to use. For example if Flash is to be used on Windows, you need to supply a directory with the <B>npswf32.dll</B> file via <strong>EmBrowserUsePluginPathProc</strong>.</P>
<P>The following plugin files that are distributed with Opera on Win32 are:</P>
<PRE>plugdef.dll (Opera Default Plugin, shows a push button on EMBED content without a known plugin)
npswf32.dll (Macromedia Shockwave Flash)</PRE>

<H3 id="file_urls">Local file URLs and security policy</H3>
<P>EmBrowserAppAllowLocalFileURLProc() can be used by the host application to allow the loading of a local file 
URL referred from within a document fetched from a server.
<P>A local file URL will get loaded for HTML elements with attributes like SRC and HREF set to for instance file://C:/foo.bar</P>
<P>Examples are:
<PRE>&lt;BGSOUND src="file://C:/test.wav"&gt;</PRE>
<PRE>&lt;DIV id='b' style='color: #008000; background-image: url(file://C:/test.gif); text-align: justify'&gt;
Text inside div b
&lt;/DIV&gt;</PRE>
<PRE>&lt;EMBED name="FlashPlayer" width="400" height="300" type="application/x-shockwave-flash" 
pluginspage="http://www.macromedia.com/go/getflashplayer" src="file://C:/foo.swf" quality="high"&gt;
&lt;/EMBED&gt;</PRE>
<PRE>&lt;OBJECT data="file://C:/foo.swf" type="application/x-shockwave-flash"&gt;
&lt;/OBJECT&gt;</PRE>
<PRE>&lt;FRAME name="fixed" src="file://C:/test.jpg"&gt;</PRE>
<PRE>&lt;IFRAME id="myIFrame" src="file://C:/test-iframe.html" 
align="right" frameborder="1" height="500" width="500" marginHeight="5" marginWidth="5"&gt;
&lt;/IFRAME&gt;</PRE>
<PRE>&lt;IMG src="file://C:/test.jpg"&gt;</PRE>
<PRE>&lt;HEAD&gt;
&lt;LINK id="myLinkStylesheet" title="myTitle" rel="stylesheet" type="text/css" href="file://C:/test.css"&gt;
&lt;/HEAD&gt;</PRE>
<PRE>&lt;SCRIPT type="text/javascript" src="file://C:/Source/jstest/regression-lib/testbase.js"&gt;
&lt;/SCRIPT&gt;</PRE>

<P>Loading of local files like .exe and .bat will not result in automatically execution.
If such files are referred from within the FRAME or the IFRAME element, the download dialogue is activated. 
If such files are referred from within the EMBED or the OBJECT element, and the mime type is associated with an
existing plugin, the file content is streamed to the plugin.
If such files are referred from within the IMG element, a broken image logo is shown.
For IMG, BGSOUND, LINK and SCRIPT, the file is loaded, but the file type cannot be handled, and the file is ignored.
</P>

<P>
User/application defined protocols like "photoshop://" or "sam://" can only be handled 
if the protocol is defined in the Preferences setting as a trusted protocol.
</P>

<h2>Last Updated</h2>
<p>2006-05-04 / <A href="mailto:Johan Borg<johan@opera.com>?Subject=embrowser doc">Johan Borg</A></p>
	</body>

</html>