<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Documentedit Module</title>
  <meta content="Emil Segeras" name="author">
  <style>
  h1,h2 { background: #eeeeee; }
  h3 { background: #f8f8f8; }
  </style>
</head>
<body>
<h1>Documentedit</h1>

<a href="api/index.html">API documentation</a><br>

Documentation for this module is on the <a href="http://wiki/developerwiki/index.php/Modules/documentedit">documentedit</a> wiki page.

<h2>Memory handling</h2>

<h3>Used OOM policies</h3>

<p>All functions in DocumentEdit that can fail with OOM returns an OpStatus value to indicate failure. The LEAVE/TRAP mechanism is not used.</p>

<h3>Who is handling OOM</h3>

<p>OOM handling is not complete and doesn't report all situations when OOM occurs. It handles them without crashing but this is not yet tested.
This hasn't been prioritized yet because the API hasn't stabilized yet and the target is desktop.</p>

<h3>Description of flow</h3>

<p>No flow</p>

<h3>Heap memory usage</h3>

<p>Some</p>

<p>It uses temp buffers in the <code>GetTextHTML()</code> functions.</p>

<h3>Stack memory usage</h3>

<p>Some</p>

<h3>Static memory usage</h3>

<p>Some</p>

<h3>Caching and freeing memory</h3>

<p>Undo/Redo stack</p>

<h3>Freeing memory on exit</h3>

<p>We free everything</p>

<h3>Temp buffers</h3>

<p>DocumentEdit does not use the shared temp buffers in <code>MemoryManager</code></p>

<h3>Memory tuning</h3>
<p>
	The UNDO-stack will only keep up to a specified amount of memory per editable document. This can be finetuned by changing MAX_MEM_PER_UNDOREDOSTACK.
</p>

<h3>Tests</h3>

<p>none</p>

<h3>Design choices</h3>

<p>Some</p>

<h3>Suggestions of improvements</h3>

<p>none</p>

</body> </html>
