<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>buffer</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" style="background-color: #cccccc" valign="middle">
<big><strong><span class="block">&nbsp;buffer</span></strong></big>
</td></tr>
</table>


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#return_values">RETURN VALUES</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>BUF_MEM_new, BUF_MEM_free, BUF_MEM_grow, BUF_strdup - simple
character arrays structure</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 #include &lt;openssl/buffer.h&gt;</pre>
<pre>
 BUF_MEM *BUF_MEM_new(void);</pre>
<pre>
 void   BUF_MEM_free(BUF_MEM *a);</pre>
<pre>
 int    BUF_MEM_grow(BUF_MEM *str, int len);</pre>
<pre>
 char * BUF_strdup(const char *str);</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The buffer library handles simple character arrays. Buffers are used for
various purposes in the library, most notably memory BIOs.</p>
<p>The library uses the BUF_MEM structure defined in buffer.h:</p>
<pre>
 typedef struct buf_mem_st
 {
        int length;     /* current number of bytes */
        char *data;
        int max;        /* size of buffer */
 } BUF_MEM;</pre>
<p><strong>length</strong> is the current size of the buffer in bytes, <strong>max</strong> is the amount of
memory allocated to the buffer. There are three functions which handle these
and one &quot;miscellaneous&quot; function.</p>
<p><code>BUF_MEM_new()</code> allocates a new buffer of zero size.</p>
<p><code>BUF_MEM_free()</code> frees up an already existing buffer. The data is zeroed
before freeing up in case the buffer contains sensitive data.</p>
<p><code>BUF_MEM_grow()</code> changes the size of an already existing buffer to
<strong>len</strong>. Any data already in the buffer is preserved if it increases in
size.</p>
<p><code>BUF_strdup()</code> copies a null terminated string into a block of allocated
memory and returns a pointer to the allocated block.
Unlike the standard C library <code>strdup()</code> this function uses <code>OPENSSL_malloc()</code> and so
should be used in preference to the standard library <code>strdup()</code> because it can
be used for memory leak checking or replacing the <code>malloc()</code> function.</p>
<p>The memory allocated from <code>BUF_strdup()</code> should be freed up using the <code>OPENSSL_free()</code>
function.</p>
<p>
</p>
<hr />
<h1><a name="return_values">RETURN VALUES</a></h1>
<p><code>BUF_MEM_new()</code> returns the buffer or NULL on error.</p>
<p><code>BUF_MEM_free()</code> has no return value.</p>
<p><code>BUF_MEM_grow()</code> returns zero on error or the new size (i.e. <strong>len</strong>).</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="../documentation/./bio.html">bio(3)</a></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<p><code>BUF_MEM_new()</code>, <code>BUF_MEM_free()</code> and <code>BUF_MEM_grow()</code> are available in all
versions of SSLeay and OpenSSL. <code>BUF_strdup()</code> was added in SSLeay 0.8.</p>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" style="background-color: #cccccc" valign="middle">
<big><strong><span class="block">&nbsp;buffer</span></strong></big>
</td></tr>
</table>

</body>

</html>
