<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>DH_generate_parameters</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" style="background-color: #cccccc" valign="middle">
<big><strong><span class="block">&nbsp;DH_generate_parameters</span></strong></big>
</td></tr>
</table>


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#return_values">RETURN VALUES</a></li>
	<li><a href="#notes">NOTES</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>DH_generate_parameters, DH_check - generate and check Diffie-Hellman parameters</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 #include &lt;openssl/dh.h&gt;</pre>
<pre>
 DH *DH_generate_parameters(int prime_len, int generator,
     void (*callback)(int, int, void *), void *cb_arg);</pre>
<pre>
 int DH_check(DH *dh, int *codes);</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p><code>DH_generate_parameters()</code> generates Diffie-Hellman parameters that can
be shared among a group of users, and returns them in a newly
allocated <strong>DH</strong> structure. The pseudo-random number generator must be
seeded prior to calling <code>DH_generate_parameters()</code>.</p>
<p><strong>prime_len</strong> is the length in bits of the safe prime to be generated.
<strong>generator</strong> is a small number &gt; 1, typically 2 or 5.</p>
<p>A callback function may be used to provide feedback about the progress
of the key generation. If <strong>callback</strong> is not <strong>NULL</strong>, it will be
called as described in <a href="../documentation/./BN_generate_prime.html">BN_generate_prime(3)</a> while a random prime
number is generated, and when a prime has been found, <strong>callback(3,
0, cb_arg)</strong> is called.</p>
<p><code>DH_check()</code> validates Diffie-Hellman parameters. It checks that <strong>p</strong> is
a safe prime, and that <strong>g</strong> is a suitable generator. In the case of an
error, the bit flags DH_CHECK_P_NOT_SAFE_PRIME or
DH_NOT_SUITABLE_GENERATOR are set in <strong>*codes</strong>.
DH_UNABLE_TO_CHECK_GENERATOR is set if the generator cannot be
checked, i.e. it does not equal 2 or 5.</p>
<p>
</p>
<hr />
<h1><a name="return_values">RETURN VALUES</a></h1>
<p><code>DH_generate_parameters()</code> returns a pointer to the DH structure, or
NULL if the parameter generation fails. The error codes can be
obtained by <a href="../documentation/./ERR_get_error.html">ERR_get_error(3)</a>.</p>
<p><code>DH_check()</code> returns 1 if the check could be performed, 0 otherwise.</p>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p><code>DH_generate_parameters()</code> may run for several hours before finding a
suitable prime.</p>
<p>The parameters generated by <code>DH_generate_parameters()</code> are not to be
used in signature schemes.</p>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>If <strong>generator</strong> is not 2 or 5, <strong>dh-&gt;g</strong>=<strong>generator</strong> is not
a usable generator.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="../documentation/./dh.html">dh(3)</a>, <a href="../documentation/./ERR_get_error.html">ERR_get_error(3)</a>, <a href="../documentation/./rand.html">rand(3)</a>,
<em>DH_free(3)</em></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<p><code>DH_check()</code> is available in all versions of SSLeay and OpenSSL.
The <strong>cb_arg</strong> argument to <code>DH_generate_parameters()</code> was added in SSLeay 0.9.0.</p>
<p>In versions before OpenSSL 0.9.5, DH_CHECK_P_NOT_STRONG_PRIME is used
instead of DH_CHECK_P_NOT_SAFE_PRIME.</p>
<table border="0" width="100%" cellspacing="0" cellpadding="3">
<tr><td class="block" style="background-color: #cccccc" valign="middle">
<big><strong><span class="block">&nbsp;DH_generate_parameters</span></strong></big>
</td></tr>
</table>

</body>

</html>
