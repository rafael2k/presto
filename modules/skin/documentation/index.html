<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Skin Module</title>
  <meta content="Emil Segerås" name="author">
  <style>
  h1,h2 { background: #eeeeee; }
  h3 { background: #f8f8f8; }
  </style>
</head>
<body>
<h1>Skin</h1>

<a href="api/index.html">API documentation</a><br>

<h2>1. Used OOM policies, Who is handling OOM? and Description of flow</h2>

This module needs work on this area. It was designed for desktop (read: no OOM handling).<br>
It uses OP_STATUS, but the init-function can also leave. The code mostly don't bother to report if OOM has occured.<br>
There is also a lot of situations when ownership of memory is unclear, if created object is also added to a list and theirfore can't be deleted if another OOM occurs etc.<br>
There might be code left that crashes if OOM occurs or leaks (Fixed a lot of it now when looking into the code.).<br>

<h2>2. Heap memory usage</h2>

It depends on how much graphics the skin use. This varies a lot.<br>

<h2>3. Stack memory usage</h2>

Low. No recursive functions.<br>

<h2>4. Memory ownership</h2>

Memory ownership is kept inside the skinmodule. But internally it is a bit fuzzy.<br>

<h2>5. Static memory usage</h2>

A pointer to g_skin_manager.<br>
Some strings for skinpart-names.<br>

<h2>6. Caching and freeing memory</h2>

The skinbitmaps is loaded first when they are needed but then kept in memory until the skin is unloaded (by changing it or exit opera).<br>

<h2>7. Temp buffers</h2>

No tempbuffer is used. Temporary bitmaps is created on the fly when painting when specialeffects needs to be done.<br>

<h2>8. Memory tuning</h2>

No tuning possible.<br>

<h2>9. Tests</h2>

The current test checks for memoryleakage when creating a skinmanager and loading a skin.<br>

<h2>10. Coverage</h2>

There is no automatically way to test coverage.<br>

</body> </html>
