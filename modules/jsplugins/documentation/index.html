<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en" dir="ltr">
<head>
 <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
 <title>Jsplugins module</title>
 <link rel="stylesheet" href="../../coredoc/coredoc.css" type="text/css" media="all">
 <link rel="contents" href="../../coredoc/index.html" type="text/html" title="Core API">
 <style type="text/css">
  a[href^="http://"]:after { content: " (external link)"; }
  a[href^="http://wiki.oslo.opera.com"]:after { content: ""; }
  ul#tocUl { list-style: none; padding-left: 0; }
 </style>
 <script type="text/javascript" src="../../coredoc/createtoc.js"></script>
</head>
<body>
 <h1>Jsplugins module</h1>
 <p id="toc">
  Copyright © 2005-2012 Opera Software ASA. All rights reserved.
  This file is part of the Opera web browser. It may not be distributed
  under any circumstances.
 </p>

 <h2 id="intro">Introduction</h2>
 <p>
  The jsplugins module implement Native JavaScript Extensions.
  <!--
  TODO: Write a bit more detailed introduction on what they are.
   -->
 </p>

 <h2 id="api">
  Interface overview and
  <abbr title="Application programming interface">API</abbr>
  documentation
 </h2>
 <p>
  For detailed information on how to use the jsplugins module in Opera and
  the module's public API, please refer to the

    <a href="api/index.html">API documentation</a>.

  The documentation needs to be generated by Doxygen.
 </p>
 <p>
  <i>TODO-is this correct?</i>
  The visible core API consists largely of the following classes:
 </p>
 <dl>
  <dt><a href="api/classJS__Plugin__Manager.html">JS_Plugin_Manager</a></dt>
  <dd>
   This class takes care of loading the extension libraries and registers the
   types they claim to support.
   It is called from the document parsing and layout code to instantiate
   <code>JS_Plugin_Context</code> objects, and handles the routing of properties
   to and from extensions.
  </dd>
  <dt><a href="api/classJS__Plugin__Context.html">JS_Plugin_Context</a></dt>
  <dd>
   This object describes the extension context.
   There is one context per DOM environment (window) and it is used by the
   document parsion, layout and DOM code to connect to the extension libraries.
  </dd>
  <dt><a href="api/classJS__Plugin__HTMLObjectElement__Object.html">JS_Plugin_HTMLObjectElement_Object</a></dt>
  <dd>
   This object describes a single extension instantiation.
   Objects of this class are used in the DOM engine to map an object to its
   corresponding extension library to be able to call callbacks on it.
  </dd>
 </dl>

 <h2 id="developer">External developer documentation</h2>
 <p>
  For detailed documentation for jsplugin authors, please refer to
  “<a href="HOWTO.html">HOWTO write an Opera Native JavaScript Extension</a>”.
 </p>

 <h2 id="security">Security model</h2>
 <p>
  Native JavaScript Extensions have support for security models which permit
  restricting where they are allowed to be instantiated.
  More information is available in the
  <a href="HOWTO.html">developer documentation</a>.
  <!--
   TODO: Write more information about this from core's point of view.
   -->
 </p>

 <h2 id="usecases">Use-cases</h2>
 <p>
  TODO
 </p>

 <h2 id="standards">Supported standards</h2>
 <p>
  Native JavaScript Extensions is an Opera-proprietary technology,
  documented in the
  <a href="HOWTO.html">developer documentation</a>.
 </p>

 <h2 id="implementationanddesign">Implementation and design</h2>
 <h3 id="designprinciples">Design principles</h3>

 <h3 id="initialisation">Initialisation</h3>
 <p>
  The initialisation of the module is handled through the
  <code>Opera::InitL()</code> API.
  <!--
   TODO: Write about how external libraries are loaded
   -->
 </p>

 <h3 id="memorymanagement">Memory management</h3>
 <h4 id="memorymanagement-stack">Stack usage</h4>
 <h4 id="memorymanagement-static">Static memory usage</h4>
 <p>
  During the module initialization process (called from
  <code>Opera::InitL()</code>, the module instantiates a singleton
  global instance of the
  <a href="api/classJS__Plugin__Manager.html">JS_Plugin_Manager</a>
  class.
  During initialization, the JS_Plugin_Manager reads the
  <var>jsplugins.ini</var> file to determine which plug-ins to
  load, and which permissions they have
  (see the
  <a href="HOWTO.html#plugin_permissions">developer documentation</a>
  for more information).
  The lists of permissions and dynamic libraries remain in memory for the
  entire lifetime of Opera.
 </p>

 <h4 id="memorymanagement-oom"><abbr title="Out of memory">OOM</abbr>
  policies</h4>

 <h3 id="performance">Performance</h3>

 <h2 id="seealso">See also</h2>

 <h2 id="references">References</h2>

</body>
</html>

