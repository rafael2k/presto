<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
          "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <link rel="stylesheet" href="scope.css" />
    <title>XML Protocols Style Guide</title>
</head>
<body>
    <h1>
        XML Protocols Style Guide</h1>
    <h2>
        Style? What style?</h2>
    <p>
        The purpose of the style guide is to ensure that the various protocols developed have some commonality and to capture "best
        practices" so that the protocols remain flexible and extensible.</p>
    <h2>
        The example</h2>
    <p>
        The console logger's data will be used as an example (both positive and negative) in the following.</p>
    <pre>
    &lt;message&gt;
      &lt;time value="<em>timestamp</em>"/&gt;
      &lt;url value="<em>url</em>"/&gt;
      &lt;context value="<em>context</em>"/&gt;
      &lt;source value="<em>source
        keyword</em>"/&gt;
      &lt;severity value="<em>severity keyword</em>"/&gt;
      &lt;text&gt;<em>text</em>&lt;/text&gt;
    &lt;/message&gt;
</pre>
    <p>
        Here the <em>source keyword</em> names the component in Opera that generated the message. At present, these are the source
        keywords: "ecmascript", "java", "m2", "network", "xml", "html", "css", "xslt", "svg", "bittorrent", "voice", "gadget", and
        "selftest".</p>
    <h2>
        The rules</h2>
    <dl>
        <dt>Break data down</dt>
        <dd>
            Code multiple values as multiple element or attribute values if possible rather than encoding them as a single datum. Splitting
            data apart makes it more self-describing and easier to handle.
        </dd>
        <dt>Enumeration values</dt>
        <dd>
            Enumeration values should be transmitted as descriptive strings rather than as numbers (i.e., in the example, <em>source keyword</em>
            is such a value). This makes the data self-describing.
        </dd>
        <dt>Element or attribute?</dt>
        <dd>
            Separate data fields should generally be coded as elements, not as separate attributes on a single common element.</dd>
        <dd>
            But <em>simple</em> data values could in turn be coded as values of a "value" attribute on those separate elements, as the
            example shows.</dd>
        <dd>
            Attribute content should always be simple text, never base64-encoded text.</dd>
        <dt>General text data</dt>
        <dd>
            Text data should be coded as the text content of an element that carries no other attributes.
        </dd>
        <dt>Binary data</dt>
        <dd>
            Binary data (data containing characters that can't be represented as XML text data, even using hexadecimal coding) should
            be base64-encoded and placed as the text content of an element called "base64-encoded-data".</dd>
        <dd>
            This element should never carry any attributes.</dd>
        <dd>
            Base64-encoded data are somewhat more expensive than regular text data, and should only be used when necessary.</dd>
        <dt>Element names</dt>
        <dd>
            Element names should be descriptive: this aids protocol extensions.</dd>
        <dd>
            The choice of "text" as the element name for the text content of the console logger message is probably suboptimal, "message-text"
            might have been better, or even "message".</dd>
        <dt>Attribute names</dt>
        <dd>
            The name "value" is restricted to carrying a simple text value which is to be interpreted as the value of the field which
            is named by the element's tag.</dd>
        <dd>
            Attribute names should be descriptive.</dd>
    </dl>
</body>
</html>
