<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel="stylesheet" href="manual_style.css"/>
  <title>Selftest memory management</title>
 </head>
 <body>
  <h1>Selftest memory documentation</h1>

    The selftest module is special in that most of the code is generated. Selftest does generally not take any responibility for the
    memory usage in the actual tests.

  <h2>Used OOM policies</h2>
    OOM situations are not reported to the calling code. These are instead reported to the selftest output. In some cases this will also 
    lead to the test run beeing aborted.
    
  <h2>Who is handling OOM?</h2>
    All OOM situations are handled internally by the module.
    
  <h2>Heap memory usage</h2>
    Heap memory is mostly used for handling strings and ecmascripts. Almost all of the memory is released between each test so the overall heap usage
    is fairly small.
      
  <h2>Stack memory usage</h2>
    The module does not use much stack in general. There are a few recursive functions in the module used to compare test patterns. In normal
    usecases the stack usage should be insignificant.
    
  <h2>Footprint</h2>
    The module is small in it self. The footprint can however be very large if a lot of tests are built in. In a current build with all test the
    footprint is ~3.5MB.

  <h2>Freeing memory on exit</h2>
    All allocated memory is freed when a test run is done/stopped or when the module is destroyed.
  
  <h2>Memory tuning</h2>
    Memory usage can currently not be tuned.
  
  <h2>Tests</h2>
    There are no tests for memory usage.
 </body>
</html>